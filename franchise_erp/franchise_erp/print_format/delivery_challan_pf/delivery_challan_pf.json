{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2026-01-23 16:14:56.210037",
 "css": "/* 1. Universal Reset */\n* {\n    margin: 0 !important;\n    padding: 0 !important;\n    box-sizing: border-box !important;\n    letter-spacing: 0px !important;\n    font-family: Arial, Helvetica, sans-serif !important;\n}\n\n/* 2. Grid System */\n.table-content {\n    display: table !important;\n    width: 100%;\n}\n\n.row {\n    display: table-row-group;\n    width: 100%;\n}\n\n.col-50 {\n    display: table-cell;\n    max-width: 50% !important;\n    width: 50% !important;\n    vertical-align: middle;\n}\n\n.col-100 {\n    display: table-cell;\n    max-width: 100% !important;\n    width: 100%;\n}\n\n/* 3. Header & Logo */\n.sb-header {\n    width: 100%;\n    display: block;\n}\n\n.sb-header .header-content {\n    padding: 0.35rem 1.8rem !important;\n}\n\n.sb-header .header-content .header-logo {\n    width: 150px !important;\n    vertical-align: top !important;\n    margin-bottom: 5px !important; \n}\n\n/* 4. Font Sizes */\n.fs-mini, .fs-mini * { font-size: 10px !important; }\n.fs-xsmall, .fs-xsmall * { font-size: 10px !important; }\n.fs-small, .fs-small * { font-size: 12px !important; }\n.fs-large { font-size: 16px !important; }\n\n/* 5. Table Formatting */\ntable {\n    width: 100% !important;\n    border-collapse: collapse;\n}\n\n.table th, .table td {\n    padding: 5px 5px !important;\n    border: 1px solid rgb(184, 184, 184);\n}\n\n.table-p-0 th, .table-p-0 td { padding: 0px !important; }\n.table-p-1 th, .table-p-1 td { padding: 4px 4px !important; }\n.table-p-2 th, .table-p-2 td { padding: 4px 5px !important; }\n\n.fw-bold { font-weight: bold !important; }\n.fw-bolder { font-weight: bolder !important; }\n.text-center { text-align: center !important; }\n.text-right, .text-end { text-align: right !important; }\n\n.text-muted { color: #000 !important; } \n\n.fst-upper { text-transform: uppercase !important; }\n.fst-capitalize { text-transform: capitalize !important; }\n\n/* 6. Utility Classes - UPDATED */\n.d-flex { \n    display: flex !important; \n    flex-direction: row !important; \n    flex-wrap: nowrap !important;  \n}\n\n.justify-content-between { \n    justify-content: space-between !important; \n    width: 100% !important; \n}\n\n/* 7. Borders & Backgrounds */\n.border-top { border-top: 1px solid rgb(184, 184, 184) !important; }\n.border-default { border-color: rgb(184, 184, 184) !important; }\n.border-none-all, .border-none-all * { border: none !important; }\n\n.bg-light {\n    background-color: rgb(242, 242, 242) !important;\n    -webkit-print-color-adjust: exact !important;\n}\n\n/* 8. Print Settings */\n@page { margin: 5mm; }\n.content { padding: 10px !important; }\n\n.page-number:after {\n    counter-increment: page;\n    content: counter(page);\n}\n\n.print-color-exact {\n    -webkit-print-color-adjust: exact !important;\n}\n\n.d-inline-flex { \n    display: inline-flex !important; \n    align-items: center !important; \n    white-space: nowrap !important;  \n}",
 "custom_format": 1,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "Delivery Note",
 "docstatus": 0,
 "doctype": "Print Format",
 "font_size": 14,
 "html": "{% set cgst_rate = [] -%}\n{% set sgst_rate = [] -%}\n{% set igst_rate = [] -%}\n{% set cgst_account_head = [] -%}\n{% set sgst_account_head = [] -%}\n{% set igst_account_head = [] -%}\n{% set tot_cgst_amount = [] %}\n{% set tot_sgst_amount = [] %}\n{% set tax_accounts = [] %}\n{% set grand_total = {\"qty\":0.0, \"amount\":0.0, \"cgst_amt\":0.0, \"sgst_amt\":0.0, \"igst_amt\":0.0} %}\n\n<!-- Extract Tax Rates from Taxes Table -->\n{%- for tax in doc.taxes -%}\n    {% if 'CGST' in tax.account_head -%}\n        {% set _ = cgst_account_head.append(tax.account_head) %}\n        {% set _ = cgst_rate.append(tax.rate) %}\n        {% set _ = tax_accounts.append(tax.description) %}\n    {%- endif -%}\n    {% if 'SGST' in tax.account_head -%}\n        {% set _ = sgst_account_head.append(tax.account_head) %}\n        {% set _ = sgst_rate.append(tax.rate) %}\n        {% set _ = tax_accounts.append(tax.description) %}\n    {%- endif -%}\n    {% if 'IGST' in tax.account_head -%}\n        {% set _ = igst_account_head.append(tax.account_head) %}\n        {% set _ = igst_rate.append(tax.rate) %}\n        {% set _ = tax_accounts.append(tax.description) %}\n    {%- endif -%}\n{%- endfor -%}\n\n{% set items_dict = ({}) %}\n\n{%- with \n    discount_data = {'amt':0, 'rate':0, 'is_excl':False}, \n    gift_voucher_calc = {}, \n    extra_data = {\n        \"taxable_amt\":0,\n        \"net_total\":0, \n        \"grand_total\":0, \n        \"shipping_amt\":0, \n        \"shipping_incl_amt\":0, \n        \"is_igst\":False, \n        \"is_b2b\":False, \n        \"voucher_calc\":{}\n    }, \n    total_data = {\n        'price':0, \n        'discount_price':0, \n        'basic_amt':0, \n        'qty':0, \n        'taxable_amt':0, \n        'cgst_rate':0, \n        'sgst_rate':0, \n        'igst_rate':0,\n        'cgst_amt':0,\n        'sgst_amt':0,\n        'igst_amt':0, \n        'total_amt':0, \n        'total_tax': 0\n    } \n-%}\n\n{%- set _ = extra_data.update({\"is_b2b\": doc.get(\"customer_group\", \"Individual\") != \"Individual\"}) -%}\n{%- set is_gift_voucher_avail = doc.get(\"custom_voucher_calculation_for_gift\", []) -%}\n\n<section class=\"content\">\n  <table class=\"table table-p-0\">\n<thead>\n  <!-- Fetch Company Details -->\n  {% set company_doc = frappe.get_doc(\"Company\", doc.company) %}\n  \n  <!-- Header -->\n  <tr>\n    <td colspan=\"10\">\n      <div class=\"table-content mb-0 pb-1\">\n        <div class=\"row\">\n          <div class=\"col-100\">\n            <div class=\"sb-header border-top border-default\">\n              <div class=\"header-content\">\n                <div class=\"table-content\">\n                  <div class=\"row\">\n                    <!-- Logo Section -->\n                    <div class=\"col-50\">\n                      <img src=\"{{ company_doc.logo_for_printing or company_doc.company_logo }}\" class=\"header-logo\" style=\"max-height: 75px;\">\n                      <!--<p class=\"fs-mini fw-bold mt-1\">\"The Best In You...\"</p>-->\n                    </div>\n                    \n                    <!-- Text Details Section -->\n                    <div class=\"col-50\">\n                      <table class=\"table border-none-all table-p-1\">\n                        <tbody>\n                          <tr>\n                            <td colspan=\"2\">\n                              <p class=\"fs-small fw-bolder fst-upper\">\n                                {{ doc.company }}\n                              </p>\n                            </td>\n                          </tr>\n                          <tr>\n                            <td style=\"width: 60px !important;\">\n                              <p class=\"fs-small text-muted fw-bold\">GSTIN:</p>\n                            </td>\n                            <td>\n                              <p class=\"fs-small text-muted fw-bold\">{{ doc.company_gstin or company_doc.gstin or \"-\" }}</p>\n                            </td>\n                          </tr>\n                          <!--<tr>-->\n                          <!--  <td style=\"width: 60px !important;\">-->\n                          <!--    <p class=\"fs-small text-muted fw-bold\">PAN NO. </p>-->\n                          <!--  </td>-->\n                          <!--  <td>-->\n                          <!--    <p class=\"fs-small text-muted fw-bold\">{{ company_doc.pan or \"-\" }}</p>-->\n                          <!--  </td>-->\n                          <!--</tr>-->\n                          \n                          <!-- FIXED: Address Logic (Using company_address instead of billing_address) -->\n                          <tr>\n                            <td style=\"vertical-align: top;\">\n                              <p class=\"fs-small text-muted\">Address:</p>\n                            </td>\n                            <td>\n                              <div class=\"fs-small text-muted\">\n                                {% if doc.company_address %}\n                                  {% set addr = frappe.get_doc(\"Address\", doc.company_address) %}\n                                  \n                                  <!-- Line 1 -->\n                                  {{ addr.address_line1 }}\n                                  \n                                  <!-- Line 2 -->\n                                  {% if addr.address_line2 %}\n                                    {{ addr.address_line2 }}\n                                  {% endif %}\n                                  \n                                  <!-- City and State only -->\n                                  {{ addr.city }}{% if addr.state %}, {{ addr.state }}{% endif %}\n                                {% else %}\n                                  <!-- Fallback to pre-rendered display if doc.company_address is missing -->\n                                  {{ doc.company_address_display }}\n                                {% endif %}\n                              </div>\n                            </td>\n                          </tr>\n                        </tbody>\n                      </table>\n\n                      <!-- Contact Info (Phone & Email from Company Doc) -->\n                      <div class=\"d-flex justify-content-between\">\n                        <span class=\"d-inline-flex align-items-center\">\n                          <span style=\"color: #230bb3 !important; font-size: 18px !important; margin-right: 4px;\" class=\"print-color-exact\">\n                            &#9990;\n                          </span>\n                          <p class=\"d-inline fs-mini text-muted font_no\">{{ company_doc.phone_no or \"\" }}</p>\n                        </span>\n                        \n                        <span class=\"d-inline-flex align-items-center\">\n                          <span style=\"color: #230bb3 !important; font-size: 18px !important; margin-right: 4px;\" class=\"print-color-exact\">\n                            &#9993;\n                          </span>\n                          <p class=\"d-inline fs-mini text-muted font_no\">{{ company_doc.email or \"\" }}</p>\n                        </span>\n                      </div>\n                      \n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </td>\n  </tr>\n</thead>\n<tbody>\n  <tr>\n    <td colspan=\"10\">\n      <div class=\"py-1\">\n        <p class=\"fs-large fw-bold text-center\">Delivery Challan</p>\n      </div>\n    </td>\n  </tr>\n\n<!-- SECTION 2: Customer & Logistics Info -->\n<tr>\n    <td colspan=\"10\" style=\"padding-top: 0px !important;\">\n        <table class=\"table border-none-all table-p-1\" style=\"width: 100%;\">\n            <tbody>\n                <tr>\n                    <!-- LEFT COLUMN -->\n                    <td style=\"width: 50%; vertical-align: top; border-right: 1px solid #b8b8b8 !important; padding-right: 5px;\">\n                        <table class=\"table border-none-all table-p-0\" style=\"width: 100%;\">\n                            <tr>\n                                <td style=\"width: 110px;\"><p class=\"fs-small fw-bold\">Customer Name</p></td>\n                                <td style=\"width: 10px;\"><p class=\"fs-small fw-bold\">:</p></td>\n                                <td><p class=\"fs-small fw-bold\">{{ doc.customer_name }}</p></td>\n                            </tr>\n                            <tr>\n                                <td style=\"width: 110px;\"><p class=\"fs-small fw-bold\">Customer Mobile</p></td>\n                                <td style=\"width: 10px;\"><p class=\"fs-small fw-bold\">:</p></td>\n                                {# Mobile mapping fixed here #}\n                                <td><p class=\"fs-small fw-bold\">{{ doc.custom_customer_mobile_number or frappe.db.get_value(\"Customer\", doc.customer, \"custom_mobile_no_customer\") or \"-\" }}</p></td>\n                            </tr>\n                        </table>\n                    </td>\n\n                    <!-- RIGHT COLUMN -->\n                    <td style=\"width: 50%; vertical-align: top; padding-left: 10px;\">\n                        <table class=\"table border-none-all table-p-0\" style=\"width: 100%;\">\n                            <tr>\n                                <td style=\"width: 140px;\"><p class=\"fs-small fw-bold\">Challan No.</p></td>\n                                <td style=\"width: 10px;\"><p class=\"fs-small fw-bold\">:</p></td>\n                                <td><p class=\"fs-small fw-bold\">{{ doc.name }}</p></td>\n                            </tr>\n                            <tr>\n                                <td><p class=\"fs-small fw-bold\">Date</p></td>\n                                <td><p class=\"fs-small fw-bold\">:</p></td>\n                                <td><p class=\"fs-small fw-bold\">{{ doc.get_formatted(\"posting_date\") }}</p></td>\n                            </tr>\n                        </table>\n                    </td>\n                </tr>\n            </tbody>\n        </table>\n    </td>\n</tr>\n\n<!-- ITEM TABLE SECTION -->\n<tr>\n  <td colspan=\"10\" style=\"padding-top: 10px !important; border-bottom: 0px !important;\">\n    <table class=\"table table-p-2\" style=\"width: 100%; border: 1px solid #b8b8b8 !important; border-collapse: collapse;\">\n      <thead style=\"background-color: #f9f9f9;\">\n        <tr class=\"fw-bold\">\n          <td style=\"width: 5%; border-right: 1px solid #b8b8b8 !important; border-bottom: 1px solid #b8b8b8 !important;\"><p class=\"fs-mini text-center fw-bold\">Sr No.</p></td>\n          <td style=\"width: 12%; border-right: 1px solid #b8b8b8 !important; border-bottom: 1px solid #b8b8b8 !important;\"><p class=\"fs-mini text-center fw-bold\">Barcode</p></td>\n          <td style=\"width: 25%; border-right: 1px solid #b8b8b8 !important; border-bottom: 1px solid #b8b8b8 !important;\"><p class=\"fs-mini fw-bold\">Serial No</p></td>\n          <td style=\"width: 15%; border-right: 1px solid #b8b8b8 !important; border-bottom: 1px solid #b8b8b8 !important;\"><p class=\"fs-mini fw-bold\">Department</p></td>\n          <td style=\"width: 10%; border-right: 1px solid #b8b8b8 !important; border-bottom: 1px solid #b8b8b8 !important;\"><p class=\"fs-mini text-center fw-bold\">HSN Code</p></td>\n          <td style=\"width: 8%; border-right: 1px solid #b8b8b8 !important; border-bottom: 1px solid #b8b8b8 !important;\"><p class=\"fs-mini text-center fw-bold\">Qty</p></td>\n          <td style=\"width: 10%; border-right: 1px solid #b8b8b8 !important; border-bottom: 1px solid #b8b8b8 !important;\"><p class=\"fs-mini text-center fw-bold\">MRP</p></td>\n          <td style=\"width: 7%; border-right: 1px solid #b8b8b8 !important; border-bottom: 1px solid #b8b8b8 !important;\"><p class=\"fs-mini text-center fw-bold\">Disc%</p></td>\n          <td style=\"width: 13%; border-bottom: 1px solid #b8b8b8 !important;\"><p class=\"fs-mini text-end fw-bold\">Amount</p></td>\n        </tr>\n      </thead>\n      <tbody>\n        {% set total_qty_val = [0] %}\n        {%- for item in doc.items -%}\n        <tr style=\"border-bottom: 1px solid #b8b8b8;\">\n          <td class=\"text-center\" style=\"border-right: 1px solid #b8b8b8 !important;\"><p class=\"fs-mini\">{{ loop.index }}</p></td>\n          <td style=\"border-right: 1px solid #b8b8b8 !important;\"><p class=\"fs-mini text-center\">{{ item.barcode or \"-\" }}</p></td>\n          <td style=\"border-right: 1px solid #b8b8b8 !important; padding-left: 5px !important;\"><p class=\"fs-mini\">{{ item.serial_no or \"-\" }}</p></td>\n          <td style=\"border-right: 1px solid #b8b8b8 !important;\"><p class=\"fs-mini\">{{ item.custom_department or \"-\" }}</p></td>\n          <td style=\"border-right: 1px solid #b8b8b8 !important;\"><p class=\"fs-mini text-center\">{{ item.gst_hsn_code or \"-\" }}</p></td>\n          <td style=\"border-right: 1px solid #b8b8b8 !important;\"><p class=\"fs-mini text-center\">{{ item.qty }}</p></td>\n          {# MRP mapping fixed: price_list_rate #}\n          <td style=\"border-right: 1px solid #b8b8b8 !important;\"><p class=\"fs-mini text-center\">{{ frappe.utils.fmt_money(item.price_list_rate, currency=doc.currency) }}</p></td>\n          {# Disc mapping fixed #}\n          <td style=\"border-right: 1px solid #b8b8b8 !important;\"><p class=\"fs-mini text-center\">{{ item.discount_percentage or \"0\" }}%</p></td>\n          <td><p class=\"fs-mini text-end fw-bold\">{{ frappe.utils.fmt_money(item.amount, currency=doc.currency) }}</p></td>\n        </tr>\n        {% set _ = total_qty_val.append(total_qty_val.pop() + item.qty) %}\n        {%- endfor -%}\n      </tbody>\n      <tfoot style=\"background-color: #f9f9f9; font-weight: bold; border-top: 2px solid #b8b8b8 !important;\">\n    <!-- TOTAL ROW -->\n    <tr>\n        <td colspan=\"5\" style=\"border-right: 1px solid #b8b8b8 !important; padding: 12px 5px !important; vertical-align: middle;border-left: 0px;\">\n            <p class=\"fs-mini text-end fw-bold\" style=\"margin: 0; font-size: 11px;\">Total</p>\n        </td>\n        <td style=\"border-right: 1px solid #b8b8b8 !important; padding: 12px 5px !important; vertical-align: middle; text-align: center;\">\n            <p class=\"fs-mini fw-bold\" style=\"margin: 0; font-size: 11px;\">{{ total_qty_val[0] }}</p>\n        </td>\n        <td colspan=\"2\" style=\"border-right: 1px solid #b8b8b8 !important; padding: 12px 5px !important;\"></td>\n        <td style=\"padding: 12px 5px !important; vertical-align: middle; text-align: right;border-right: 0px;\">\n            <p class=\"fs-mini fw-bold\" style=\"margin: 0; font-size: 11px;\">{{ frappe.utils.fmt_money(doc.total, currency=doc.currency) }}</p>\n        </td>\n    </tr>\n\n    <!-- AMOUNT IN WORDS ROW -->\n    <tr style=\"border-top: 1px solid #b8b8b8 !important;\">\n        <td colspan=\"9\" style=\"padding: 15px 10px !important; background-color: #ffffff;b order-left: 0px;border-right: 0px;\">\n            <p class=\"fs-mini\" style=\"margin: 0; line-height: 1.5;\">\n                <strong style=\"font-size: 11px;\">Amount in Words : </strong> \n                <span style=\"text-transform: capitalize; font-size: 11px;\">{{ doc.in_words }}</span>\n            </p>\n        </td>\n    </tr>\n</tfoot>\n    </table>\n  </td>\n</tr>\n\n<!-- Footer / Signatures -->\n<tr>\n  <td colspan=\"10\" style=\"border: 1px solid #b8b8b8; border-top: 0px solid #b8b8b8 !important; padding: 0px !important;border-bottom: 0px !important;\">\n    <table class=\"table table-p-0\" style=\"width: 100%; border-collapse: collapse; border: none !important; table-layout: fixed;\">\n      <tbody>\n        <tr style=\"border-top: 0px !important;\">\n          <td style=\"width: 50%; vertical-align: bottom !important; padding: 10px 5px !important; height: 110px !important; text-align: center; border-right: 1px solid #b8b8b8;\">\n              <div style=\"min-height: 20px; display: flex; align-items: flex-end; justify-content: center;\">\n                        <p style=\"margin: 0; font-size: 10px; line-height: 1.1;\">{{ frappe.db.get_value(\"User\", doc.owner, \"full_name\") or doc.owner }}</p>\n              </div>\n              <div style=\"border-top: 1px solid #b8b8b8; width: 60%; margin: 5px auto 5px auto !important;\"></div>\n              <p style=\"margin: 0; font-size: 11px; font-weight: bold;\">Prepared By</p>\n          </td>\n          <td style=\"width: 50%; vertical-align: bottom !important; padding: 10px 5px !important; height: 110px !important; text-align: center;\">\n              <div style=\"min-height: 20px;\"></div>\n              <div style=\"border-top: 1px solid #b8b8b8; width: 60%; margin: 5px auto 5px auto !important;\"></div>\n              <p style=\"margin: 0; font-size: 11px; font-weight: bold;\">Checked & Passed By</p>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n    \n    <div style=\"padding: 5px !important;  font-size: 11px; text-align: center;\">\n      <strong>Declaration:</strong>\n      <span class=\"text-muted\">We declare that this Delivery Challan shows the actual price of the goods described and that all particulars are true and correct.</span>\n    </div>\n  </td>\n</tr>\n\n    </tbody>\n  </table>\n  \n<style>\n    .page-number:after {\n        counter-increment: page;\n        content: counter(page);\n    }\n</style>\n  <table class=\"table table-p-0\">\n      <tbody>\n          <tr>\n              <td style=\"border: 0px !important;\">\n              <div style=\"padding: 5px !important; border-top: 1px solid #b8b8b8; display: block; overflow: hidden; font-size: 10px;\">\n        <div style=\"float: left; width: 50%;\">\n            Print Date : {{ frappe.utils.format_date(frappe.utils.today()) }}\n        </div>\n        <div style=\"float: right; width: 50%; text-align: right;\">\n            Page : <span class=\"page-number\"></span>\n        </div>\n        </td>\n        </tr>\n    </div>\n      </tbody>\n  </table>\n</section>\n{%- endwith -%}",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 15.0,
 "margin_left": 15.0,
 "margin_right": 15.0,
 "margin_top": 15.0,
 "modified": "2026-02-17 11:50:11.886172",
 "modified_by": "Administrator",
 "module": "Franchise Erp",
 "name": "Delivery Challan PF",
 "owner": "Administrator",
 "page_number": "Hide",
 "pdf_generator": "wkhtmltopdf",
 "print_format_builder": 0,
 "print_format_builder_beta": 0,
 "print_format_for": "DocType",
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}