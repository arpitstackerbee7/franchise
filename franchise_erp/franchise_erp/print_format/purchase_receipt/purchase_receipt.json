{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2026-01-19 10:43:53.908008",
 "css": "html,\nbody {\n    min-height: 100vh;\n}\n\n* {\n    margin: 0 !important;\n    padding: 0 !important;\n    box-sizing: border-box !important;\n    letter-spacing: 0px !important;\n    font-family: Arial, Helvetica, sans-serif !important;\n}\n\n:root {\n    --header-height: 110px !important;\n    --border-color: #808080;\n    --page-padding: 10px 10px;\n    --ff-gill-sans: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;\n}\n.font_no\n{\n    font-size:35px!important;\n}\n.table-content {\n    display: table !important;\n    width: 100%;\n}\n\n/* Row - Col Start */\n.row {\n    display: table-row-group;\n    /* flex-wrap: nowrap !important; */\n    gap: 10px !important;\n    width: 100%;\n}\n\n[class^=\"col-\"] {\n    /* Your CSS styles here */\n    vertical-align: middle;\n}\n\n.col-5 {\n    display: table-cell;\n    /* flex: 0 0 5% !important;\n    -webkit-box-flex: 0; */\n    max-width: 5% !important;\n    width: 5% !important;\n}\n\n.col-10 {\n    display: table-cell;\n\n    /* flex: 0 0 10% !important;\n    -webkit-box-flex: 0; */\n    max-width: 10% !important;\n    width: 10% !important;\n}\n\n.col-15 {\n    display: table-cell;\n    /* flex: 0 0 15% !important;\n    -webkit-box-flex: 0; */\n    max-width: 15% !important;\n    width: 15% !important;\n}\n\n.col-20 {\n    display: table-cell;\n    /* flex: 0 0 20% !important;\n    -webkit-box-flex: 0; */\n    max-width: 20% !important;\n    width: 20% !important;\n}\n\n.col-25 {\n    display: table-cell;\n    /* flex: 0 0 25% !important;\n    -webkit-box-flex: 0; */\n    max-width: 25% !important;\n    width: 25% !important;\n}\n\n.col-30 {\n    display: table-cell;\n    /* flex: 0 0 30% !important;\n    -webkit-box-flex: 0; */\n    max-width: 30% !important;\n    width: 30% !important;\n}\n\n.col-35 {\n    display: table-cell;\n    /* flex: 0 0 35% !important;\n    -webkit-box-flex: 0; */\n    max-width: 35% !important;\n    width: 35% !important;\n}\n\n.col-40 {\n    display: table-cell;\n    /* flex: 0 0 40% !important;\n    -webkit-box-flex: 0; */\n    max-width: 40% !important;\n    width: 40% !important;\n}\n\n.col-45 {\n    display: table-cell;\n    /* flex: 0 0 45% !important;\n    -webkit-box-flex: 0; */\n    max-width: 45% !important;\n    width: 45% !important;\n}\n\n.col-50 {\n    display: table-cell;\n    /* flex: 0 0 50% !important;\n    -webkit-box-flex: 0; */\n    max-width: 50% !important;\n    width: 50% !important;\n}\n\n.col-55 {\n    display: table-cell;\n    /* flex: 0 0 55% !important;\n    -webkit-box-flex: 0; */\n    max-width: 55% !important;\n    width: 55% !important;\n}\n\n.col-60 {\n    display: table-cell;\n    /* flex: 0 0 60% !important;\n    -webkit-box-flex: 0; */\n    max-width: 60% !important;\n    width: 60% !important;\n}\n\n.col-65 {\n    display: table-cell;\n    /* flex: 0 0 65% !important;\n    -webkit-box-flex: 0; */\n    max-width: 65% !important;\n    width: 65% !important;\n}\n\n.col-70 {\n    display: table-cell;\n    /* flex: 0 0 70% !important;\n    -webkit-box-flex: 0; */\n    max-width: 70% !important;\n    width: 70% !important;\n}\n\n.col-75 {\n    display: table-cell;\n    /* flex: 0 0 75% !important;\n    -webkit-box-flex: 0; */\n    max-width: 75% !important;\n    width: 75% !important;\n}\n\n.col-80 {\n    display: table-cell;\n    /* flex: 0 0 80% !important;\n    -webkit-box-flex: 0; */\n    max-width: 80% !important;\n    width: 80% !important;\n}\n\n.col-85 {\n    display: table-cell;\n    /* flex: 0 0 85% !important;\n    -webkit-box-flex: 0; */\n    max-width: 85% !important;\n    width: 85% !important;\n}\n\n.col-90 {\n    display: table-cell;\n    /* flex: 0 0 90% !important;\n    -webkit-box-flex: 0; */\n    max-width: 90% !important;\n    width: 90% !important;\n}\n\n\n.col-95 {\n    display: table-cell;\n    /* flex: 0 0 95% !important;\n    -webkit-box-flex: 0; */\n    max-width: 95% !important;\n    width: 95%;\n}\n\n.col-100 {\n    display: table-cell;\n    /* flex: 0 0 100% !important;\n    -webkit-box-flex: 0; */\n    max-width: 100% !important;\n    width: 100%;\n}\n\n/* Row - Col End */\n\n/* Width Start */\n\n.w-10 {\n    width: 10% !important;\n}\n\n.w-15 {\n    width: 15% !important;\n}\n\n.w-20 {\n    width: 20% !important;\n}\n\n.w-25 {\n    width: 25% !important;\n}\n\n.w-30 {\n    width: 30% !important;\n}\n\n.w-35 {\n    width: 35% !important;\n}\n\n.w-40 {\n    width: 40% !important;\n}\n\n.w-45 {\n    width: 45% !important;\n}\n\n.w-50 {\n    width: 50% !important;\n}\n\n.w-55 {\n    width: 55% !important;\n}\n\n.w-60 {\n    width: 60% !important;\n}\n\n.w-65 {\n    width: 65% !important;\n}\n\n.w-70 {\n    width: 70% !important;\n}\n\n.w-75 {\n    width: 75% !important;\n}\n\n.w-80 {\n    width: 80% !important;\n}\n\n.w-85 {\n    width: 85% !important;\n}\n\n.w-90 {\n    width: 90% !important;\n}\n\n.w-95 {\n    width: 95% !important;\n}\n\n.w-100 {\n    width: 100% !important;\n}\n\n/* Width End */\n\n\n/* Height Start */\n\n.h-10 {\n    height: 10% !important;\n}\n\n.h-15 {\n    height: 15% !important;\n}\n\n.h-20 {\n    height: 20% !important;\n}\n\n.h-25 {\n    height: 25% !important;\n}\n\n.h-30 {\n    height: 30% !important;\n}\n\n.h-35 {\n    height: 35% !important;\n}\n\n.h-40 {\n    height: 40% !important;\n}\n\n.h-45 {\n    height: 45% !important;\n}\n\n.h-50 {\n    height: 50% !important;\n}\n\n.h-55 {\n    height: 55% !important;\n}\n\n.h-60 {\n    height: 60% !important;\n}\n\n.h-65 {\n    height: 65% !important;\n}\n\n.h-70 {\n    height: 70% !important;\n}\n\n.h-75 {\n    height: 75% !important;\n}\n\n.h-80 {\n    height: 80% !important;\n}\n\n.h-85 {\n    height: 85% !important;\n}\n\n.h-90 {\n    height: 90% !important;\n}\n\n.h-95 {\n    height: 95% !important;\n}\n\n.h-100 {\n    height: 100% !important;\n}\n\n/* Height End */\n\n\n.m-0 {\n    margin: 0 !important\n}\n\n.m-1 {\n    margin: .25rem !important\n}\n\n.m-2 {\n    margin: .5rem !important\n}\n\n.m-3 {\n    margin: 1rem !important\n}\n\n.m-4 {\n    margin: 1.5rem !important\n}\n\n.m-5 {\n    margin: 3rem !important\n}\n\n.m-auto {\n    margin: auto !important\n}\n\n.mx-0 {\n    margin-right: 0 !important;\n    margin-left: 0 !important\n}\n\n.mx-1 {\n    margin-right: .25rem !important;\n    margin-left: .25rem !important\n}\n\n.mx-2 {\n    margin-right: .5rem !important;\n    margin-left: .5rem !important\n}\n\n.mx-3 {\n    margin-right: 1rem !important;\n    margin-left: 1rem !important\n}\n\n.mx-4 {\n    margin-right: 1.5rem !important;\n    margin-left: 1.5rem !important\n}\n\n.mx-5 {\n    margin-right: 3rem !important;\n    margin-left: 3rem !important\n}\n\n.mx-auto {\n    margin-right: auto !important;\n    margin-left: auto !important\n}\n\n.my-0 {\n    margin-top: 0 !important;\n    margin-bottom: 0 !important\n}\n\n.my-1 {\n    margin-top: .25rem !important;\n    margin-bottom: .25rem !important\n}\n\n.my-2 {\n    margin-top: .5rem !important;\n    margin-bottom: .5rem !important\n}\n\n.my-3 {\n    margin-top: 1rem !important;\n    margin-bottom: 1rem !important\n}\n\n.my-4 {\n    margin-top: 1.5rem !important;\n    margin-bottom: 1.5rem !important\n}\n\n.my-5 {\n    margin-top: 3rem !important;\n    margin-bottom: 3rem !important\n}\n\n.my-auto {\n    margin-top: auto !important;\n    margin-bottom: auto !important\n}\n\n.mt-0 {\n    margin-top: 0 !important\n}\n\n.mt-1 {\n    margin-top: .25rem !important\n}\n\n.mt-2 {\n    margin-top: .5rem !important\n}\n\n.mt-3 {\n    margin-top: 1rem !important\n}\n\n.mt-4 {\n    margin-top: 1.5rem !important\n}\n\n.mt-5 {\n    margin-top: 3rem !important\n}\n\n.mt-auto {\n    margin-top: auto !important\n}\n\n.me-0 {\n    margin-right: 0 !important\n}\n\n.me-1 {\n    margin-right: .25rem !important\n}\n\n.me-2 {\n    margin-right: .5rem !important\n}\n\n.me-3 {\n    margin-right: 1rem !important\n}\n\n.me-4 {\n    margin-right: 1.5rem !important\n}\n\n.me-5 {\n    margin-right: 3rem !important\n}\n\n.me-auto {\n    margin-right: auto !important\n}\n\n.mb-0 {\n    margin-bottom: 0 !important\n}\n\n.mb-1 {\n    margin-bottom: .25rem !important\n}\n\n.mb-2 {\n    margin-bottom: .5rem !important\n}\n\n.mb-3 {\n    margin-bottom: 1rem !important\n}\n\n.mb-4 {\n    margin-bottom: 1.5rem !important\n}\n\n.mb-5 {\n    margin-bottom: 3rem !important\n}\n\n.mb-auto {\n    margin-bottom: auto !important\n}\n\n.ms-0 {\n    margin-left: 0 !important\n}\n\n.ms-1 {\n    margin-left: .25rem !important\n}\n\n.ms-2 {\n    margin-left: .5rem !important\n}\n\n.ms-3 {\n    margin-left: 1rem !important\n}\n\n.ms-4 {\n    margin-left: 1.5rem !important\n}\n\n.ms-5 {\n    margin-left: 3rem !important\n}\n\n.ms-auto {\n    margin-left: auto !important\n}\n\n\n.p-0 {\n    padding: 0 !important\n}\n\n.p-1 {\n    padding: .25rem !important\n}\n\n.p-2 {\n    padding: .5rem !important\n}\n\n.p-3 {\n    padding: 1rem !important\n}\n\n.p-4 {\n    padding: 1.5rem !important\n}\n\n.p-5 {\n    padding: 3rem !important\n}\n\n.px-0 {\n    padding-right: 0 !important;\n    padding-left: 0 !important\n}\n\n.px-1 {\n    padding-right: .25rem !important;\n    padding-left: .25rem !important\n}\n\n.px-2 {\n    padding-right: .5rem !important;\n    padding-left: .5rem !important\n}\n\n.px-3 {\n    padding-right: 1rem !important;\n    padding-left: 1rem !important\n}\n\n.px-4 {\n    padding-right: 1.5rem !important;\n    padding-left: 1.5rem !important\n}\n\n.px-5 {\n    padding-right: 3rem !important;\n    padding-left: 3rem !important\n}\n\n.py-0 {\n    padding-top: 0 !important;\n    padding-bottom: 0 !important\n}\n\n.py-1 {\n    padding-top: .25rem !important;\n    padding-bottom: .25rem !important\n}\n\n.py-2 {\n    padding-top: .5rem !important;\n    padding-bottom: .5rem !important\n}\n\n.py-3 {\n    padding-top: 1rem !important;\n    padding-bottom: 1rem !important\n}\n\n.py-4 {\n    padding-top: 1.5rem !important;\n    padding-bottom: 1.5rem !important\n}\n\n.py-5 {\n    padding-top: 3rem !important;\n    padding-bottom: 3rem !important\n}\n\n.pt-0 {\n    padding-top: 0 !important\n}\n\n.pt-1 {\n    padding-top: .25rem !important\n}\n\n.pt-2 {\n    padding-top: .5rem !important\n}\n\n.pt-3 {\n    padding-top: 1rem !important\n}\n\n.pt-4 {\n    padding-top: 1.5rem !important\n}\n\n.pt-5 {\n    padding-top: 3rem !important\n}\n\n.pe-0 {\n    padding-right: 0 !important\n}\n\n.pe-1 {\n    padding-right: .25rem !important\n}\n\n.pe-2 {\n    padding-right: .5rem !important\n}\n\n.pe-3 {\n    padding-right: 1rem !important\n}\n\n.pe-4 {\n    padding-right: 1.5rem !important\n}\n\n.pe-5 {\n    padding-right: 3rem !important\n}\n\n.pb-0 {\n    padding-bottom: 0 !important\n}\n\n.pb-1 {\n    padding-bottom: .25rem !important\n}\n\n.pb-2 {\n    padding-bottom: .5rem !important\n}\n\n.pb-3 {\n    padding-bottom: 1rem !important\n}\n\n.pb-4 {\n    padding-bottom: 1.5rem !important\n}\n\n.pb-5 {\n    padding-bottom: 3rem !important\n}\n\n.ps-0 {\n    padding-left: 0 !important\n}\n\n.ps-1 {\n    padding-left: .25rem !important\n}\n\n.ps-2 {\n    padding-left: .5rem !important\n}\n\n.ps-3 {\n    padding-left: 1rem !important\n}\n\n.ps-4 {\n    padding-left: 1.5rem !important\n}\n\n.ps-5 {\n    padding-left: 3rem !important\n}\n\n/* Border Start */\n\n.border {\n    border-width: 1px !important;\n    border-style: solid !important;\n    border-color: var(--border-color);\n}\n\n.border-black {\n    border-color: #000 !important;\n\n}\n\n.border-none {\n    border: none !important;\n}\n\n.border-none-all,\n.border-none-all * {\n    border: none !important;\n}\n\n.border-left {\n    /* border: none !important; */\n    border-left: 1px solid var(--border-color) !important;\n}\n\n.border-right {\n    /* border: none !important; */\n    border-right: 1px solid var(--border-color) !important;\n}\n\n.border-top {\n    /* border: none !important; */\n    border-top: 1px solid var(--border-color);\n}\n\n.border-bottom {\n    /* border: none !important; */\n    border-bottom: 1px solid var(--border-color) !important;\n}\n\n.border-left-right-none {\n    border-left: none !important;\n    border-right: none !important;\n}\n\n.fw-500 {\n    font-weight: 500 !important;\n}\n\n.fw-bold {\n    font-weight: bold;\n}\n\n.fw-bolder {\n    font-weight: bolder !important;\n}\n\n/* Border End */\n\n.text-center {\n    text-align: center !important;\n}\n\n.text-left,\n.text-start {\n    text-align: left !important;\n}\n\n.text-right,\n.text-end {\n    text-align: right !important;\n}\n\n.fst-upper {\n    text-transform: uppercase !important;\n}\n\n.fst-lower {\n    text-transform: lowercase !important;\n}\n\n.fst-capitalize {\n    text-transform: capitalize !important;\n}\n\n.fst-underline {\n    text-decoration: underline;\n}\n\n\n.h1,\n.h2,\n.h3,\n.h4,\n.h5,\n.h6,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n    margin-top: 0;\n    margin-bottom: .5rem;\n    font-weight: 500;\n    line-height: 1.2\n}\n\n.h1,\nh1 {\n    font-size: calc(1.375rem + 1.5vw) !important;\n}\n\n@media (min-width:1200px) {\n\n    .h1,\n    h1 {\n        font-size: 2.5rem !important;\n    }\n}\n\n.h2,\nh2 {\n    font-size: calc(1.325rem + .9vw) !important;\n}\n\n@media (min-width:1200px) {\n\n    .h2,\n    h2 {\n        font-size: 2rem !important;\n    }\n}\n\n.h3,\nh3 {\n    font-size: calc(1.3rem + .6vw) !important;\n}\n\n@media (min-width:1200px) {\n\n    .h3,\n    h3 {\n        font-size: 1.75rem !important;\n    }\n}\n\n.h4,\nh4 {\n    font-size: calc(1.275rem + .3vw) !important;\n}\n\n@media (min-width:1200px) {\n\n    .h4,\n    h4 {\n        font-size: 1.5rem !important;\n    }\n}\n\n.h5,\nh5 {\n    font-size: 1.25rem !important;\n}\n\n.h6,\nh6 {\n    font-size: 1rem !important;\n}\n\n.fs-1 {\n    font-size: calc(1.375rem + 1.5vw) !important\n}\n\n.fs-2 {\n    font-size: calc(1.325rem + .9vw) !important\n}\n\n.fs-3 {\n    font-size: calc(1.3rem + .6vw) !important\n}\n\n.fs-4 {\n    font-size: calc(1.275rem + .3vw) !important\n}\n\n.fs-5 {\n    font-size: 1.25rem !important\n}\n\n.fs-6 {\n    font-size: 1rem !important\n}\n\n.fst-italic {\n    font-style: italic !important\n}\n\n.fst-normal {\n    font-style: normal !important\n}\n\n.fw-light {\n    font-weight: 300 !important\n}\n\n.fw-lighter {\n    font-weight: lighter !important\n}\n\n.fw-normal {\n    font-weight: 400 !important\n}\n\n.fw-bold {\n    font-weight: 700 !important\n}\n\n.fw-bolder {\n    font-weight: bolder !important\n}\n\n\n.border-0 {\n    border: 0 !important\n}\n\n.border-top {\n    border-top: 1px solid var(--border-color) !important\n}\n\n.border-top-0 {\n    border-top: 0 !important\n}\n\n.border-end {\n    border-right: 1px solid var(--border-color) !important\n}\n\n.border-end-0 {\n    border-right: 0 !important\n}\n\n.border-bottom {\n    border-bottom: 1px solid var(--border-color) !important\n}\n\n.border-bottom-0 {\n    border-bottom: 0 !important\n}\n\n.border-start {\n    border-left: 1px solid var(--border-color) !important\n}\n\n.border-start-0 {\n    border-left: 0 !important\n}\n\n.border-primary {\n    border-color: #0d6efd !important\n}\n\n.border-secondary {\n    border-color: #6c757d !important\n}\n\n.border-success {\n    border-color: #198754 !important\n}\n\n.border-info {\n    border-color: #0dcaf0 !important\n}\n\n.border-warning {\n    border-color: #ffc107 !important\n}\n\n.border-danger {\n    border-color: #dc3545 !important\n}\n\n.border-light {\n    border-color: #f8f9fa !important\n}\n\n.border-gray {\n    border-color: #cecece !important\n}\n\n.border-dark {\n    border-color: #212529 !important\n}\n\n.border-white {\n    border-color: #fff !important\n}\n\n.border-default {\n    /* border-color: var(--border-color) !important; */\n    border-color: rgb(184, 184, 184) !important;\n}\n\n.border-1 {\n    border-width: 1px !important\n}\n\n.border-2 {\n    border-width: 2px !important\n}\n\n.border-3 {\n    border-width: 3px !important\n}\n\n.border-4 {\n    border-width: 4px !important\n}\n\n.border-5 {\n    border-width: 5px !important\n}\n\n.bg-light {\n    background-color: rgb(242, 242, 242) !important;\n    print-color-adjust: exact !important;\n    -webkit-print-color-adjust: exact !important;\n}\n\n.bg-black {\n    background-color: black !important;\n    print-color-adjust: exact !important;\n    -webkit-print-color-adjust: exact !important;\n}\n\n.d-flex {\n    display: flex !important;\n}\n\n.justify-content-between {\n    justify-content: space-between;\n}\n\n.justify-content-center {\n    justify-content: center;\n}\n\n.justify-content-right {\n    justify-content: right;\n}\n\n.justify-content-left {\n    justify-content: left;\n}\n\n.align-items-center {\n    align-items: center;\n}\n\n.rounded {\n    border-radius: 5px;\n}\n\n.rounded-1 {\n    border-radius: 3px;\n}\n\n.rounded-2 {\n    border-radius: 6px;\n}\n\n.rounded-2 {\n    border-radius: 10px;\n}\n\n.fs-xmini,\n.fs-xmini * {\n    font-size: 8px !important;\n}\n\n.fs-mini,\n.fs-mini * {\n    font-size: 13px !important;\n    /* font-size: 10px !important; */\n    /* font-size: 0.625rem !important; */\n}\n\n.fs-small,\n.fs-small * {\n    /* font-size: 0.75rem !important; */\n    font-size: 12px !important;\n}\n\n.fs-xsmall,\n.fs-xsmall * {\n    /* font-size: 0.75rem !important; */\n    font-size: 10px !important;\n}\n\n.fs-normal,\n.fs-normal * {\n    font-size: 14px !important;\n}\n\n.fs-large {\n    font-size: 16px !important;\n}\n\n.fs-xlarge {\n    font-size: 18px !important;\n}\n\n.text-white {\n    color: #ffffff !important;\n}\n\n.text-muted {\n    color: rgb(130, 130, 130);\n}\n\n.d-block {\n    display: block !important;\n}\n\n.d-none {\n    display: none !important;\n}\n\n.d-inline {\n    display: inline !important;\n}\n\n.d-inline-flex {\n    display: inline-flex !important;\n}\n\n.d-inline-block {\n    display: inline-block !important;\n}\n\n.text-dark {\n    color: rgb(40, 40, 40) !important;\n}\n\n.text-justify {\n    text-align: justify;\n}\n\n.shadow-box {\n    box-shadow: 3px 3px 0px 0px #8f8f8f !important;\n}\n\n.text-light {\n    color: #666666 !important;\n}\n\n.text-upper {\n    text-transform: uppercase !important;\n}\n\n/* Page styles */\n\n* {\n    font-family: var(--ff-gill-sans);\n}\n\n.logo-box {\n    background-color: #000;\n    print-color-adjust: exact !important;\n    -webkit-print-color-adjust: exact !important;\n    width: 272px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border-radius: 5px;\n    box-sizing: border-box;\n    padding: 5px 5px !important;\n}\n\n.logo {\n    /* position: relative; */\n    /* display: inline-block; */\n    display: block;\n    height: 40px;\n    width: auto;\n    margin-right: 10px !important;\n}\n\nol li::marker {\n    font-weight: bold !important;\n}\n\nol {\n    list-style-position: outside !important;\n}\n\nol li {\n    margin-bottom: 20px !important;\n    word-spacing: 1px;\n    padding-left: 25px !important;\n    text-align: justify;\n    page-break-inside: avoid;\n}\n\nol.terms {\n    padding-left: 50px !important;\n}\n\n/* Footer setting */\n\n.page-header {\n    display: table-header-group !important;\n}\n\n.page-footer {\n    display: table-footer-group !important;\n}\n\n.page-header-space {\n    height: 100px;\n}\n\n.page-footer-space {\n    height: 90px;\n\n}\n\n.page-break {\n    page-break-after: always !important;\n}\n\n.page {\n    page-break-after: always;\n}\n\n\n@media print {\n    thead {\n        display: table-header-group;\n    }\n\n    tfoot {\n        display: table-footer-group;\n        /* position: fixed; */\n        bottom: 0;\n    }\n\n    button {\n        display: none;\n    }\n\n    body {\n        margin: 0;\n    }\n}\n\n@page {\n    margin: 5mm\n}\n\n.content {\n    /* padding-bottom: 100px; */\n    /* padding: var(--page-padding) !important; */\n    /* border: 1px solid rgba(0, 0, 0, 0.4) !important; */\n    height: 100% !important;\n    min-height: 100vh !important;\n}\n\n.page {\n    padding: var(--page-padding) !important;\n}\n\n.footer {\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    display: block;\n    text-align: justify;\n    /* padding: var(--page-padding) !important; */\n}\n\ntable {\n    border-spacing: 0px;\n    border-collapse: collapse;\n}\n\n.table thead tr th,\n.table thead tr td,\n.table tbody tr td,\n.table tbody tr th {\n    padding: 4px 8px !important;\n    vertical-align: baseline;\n}\n\n.table-p-0 thead tr th,\n.table-p-0 thead tr td,\n.table-p-0 tbody tr td,\n.table-p-0 tbody tr th {\n    padding: 0px !important;\n}\n\n.table-p-1 thead tr th,\n.table-p-1 thead tr td,\n.table-p-1 tbody tr td,\n.table-p-1 tbody tr th {\n    /* padding: 2px 4px !important; */\n    padding: 4px 4px !important;\n}\n\n.table-p-2 thead tr th,\n.table-p-2 thead tr td,\n.table-p-2 tbody tr td,\n.table-p-2 tbody tr th {\n    padding: 4px 5px !important;\n}\n\n.border-bottom-child-none thead tr th,\n.border-bottom-child-none thead tr td,\n.border-bottom-child-none tbody tr td,\n.border-bottom-child-none tbody tr th {\n    border-bottom: none !important;\n}\n\n\n\n.p-all-1,\n.p-all-1 * {\n    padding: 0.05rem !important;\n}\n\n.double-border {\n    position: relative;\n    border-bottom: 3px solid rgb(48, 48, 48);\n}\n\n.double-border:before {\n    position: absolute;\n    content: '';\n\n    border-bottom: 1px solid rgb(0, 0, 0);\n    padding-bottom: 6px !important;\n    display: block;\n    width: 100%;\n    height: 100%;\n}\n\n\n.applicant-summary {\n    border-spacing: 2px;\n    border-collapse: separate;\n    /* border-collapse: collapse !important; */\n}\n\n.earning-deduction {\n    border-spacing: 0px;\n    border-collapse: separate;\n    /* border-collapse: collapse !important; */\n}\n\n.table.applicant-summary tbody tr td {\n    border: 0px !important;\n    padding-left: 2px !important;\n}\n\ntd.row-head {\n    border-radius: 0px;\n    /* padding: 1px 5px !important; */\n    /* padding: 3px 6px !important; */\n    /* border: 1px solid black !important; */\n    /* color: #fff !important; */\n    background-color: rgb(240, 240, 240) !important;\n    print-color-adjust: exact !important;\n    -webkit-print-color-adjust: exact !important;\n    margin-bottom: 0px !important;\n    /* margin-left: 3px !important; */\n    font-weight: 600 !important;\n}\n\n.table.applicant-summary tbody tr td p.fdsa {\n    padding: 2px 8px !important;\n    /* border-bottom: 1px solid black; */\n    font-weight: 400 !important;\n}\n\n.table.earning-deduction tbody tr td {\n    border-radius: 0px;\n    padding: 0px 0px !important;\n    border: 0px !important;\n}\n\n.table.earning-deduction tbody tr td table th {\n    padding: 2px 0px !important;\n}\n\n.table.earning-deduction tbody tr td table tfoot th {\n    padding: 3px 5px !important;\n    /* border-radius: 0px !important; */\n}\n\n.table.earning-deduction tbody tr td table tfoot tr {\n    background-color: #e5e5e5;\n    print-color-adjust: exact !important;\n    -webkit-print-color-adjust: exact !important;\n}\n\n.table.earning-deduction tbody tr td table td {\n    padding: 5px 0px !important;\n}\n\n/* .table.earning-deduction tbody tr td table td:nth-child(1) {\n    color: #505050 !important;\n    print-color-adjust: exact !important;\n    -webkit-print-color-adjust: exact !important;\n} */\n\n\n/* td.row-head {\n    background-color: #f5f5f5;\n    print-color-adjust: exact !important;\n    -webkit-print-color-adjust: exact !important;\n} */\n\n.payslip-label {\n    background-color: #e5e5e5;\n    print-color-adjust: exact !important;\n    -webkit-print-color-adjust: exact !important;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    height: 100%;\n}\n\n.payslip-label>span:first-child {\n    /* padding: 5px 50px !important; */\n    display: block !important;\n    /* height: 100% !important; */\n    width: 100%;\n    text-align: center;\n}\n\n.table {\n    width: 100% !important;\n}\n\n/* Print settings */\n\n.print-format td,\n.print-format th {\n    vertical-align: baseline !important;\n    padding: 0px !important;\n}\n\n@media (-webkit-min-device-pixel-ratio: 0) {\n\n    thead,\n    tfoot {\n        display: revert !important;\n    }\n}\n\n/* .table>tbody>tr>td,\n.table>tbody>tr>th,\n.table>tfoot>tr>td,\n.table>tfoot>tr>th,\n.table>thead>tr>td,\n.table>thead>tr>th {\n    border-top: revert;\n} */\n\n.print-format thead th {\n    background-color: #fff !important;\n}\n\n.print-format {\n    page-break-after: avoid !important;\n    padding: 0px !important;\n    margin: 0px !important;\n}\n\n.cell {\n    padding: 2px 10px 5px 10px !important;\n}\n\n.thead .tcell {\n    /* padding: 2px 10px 5px 10px !important; */\n    padding: 5px 2px !important;\n    background-color: rgb(242, 242, 242);\n    print-color-adjust: exact !important;\n    -webkit-print-color-adjust: exact !important;\n}\n\ntable thead tr th {\n    text-align: left !important;\n    /* padding: 5px 2px !important; */\n    background-color: rgb(242, 242, 242);\n    print-color-adjust: exact !important;\n    -webkit-print-color-adjust: exact !important;\n}\n\ntable thead tr th,\ntable thead tr td,\ntable tbody tr th,\ntable tbody tr td {\n    padding: 5px 5px !important;\n    border: 1px solid rgb(184, 184, 184);\n}\n\n.t-head {\n    background-color: #FAFAFA;\n    print-color-adjust: exact !important;\n    -webkit-print-color-adjust: exact !important;\n}\n\n.t1 {\n    width: 80px !important;\n}\n\n.t2 {\n    width: 120px !important;\n}\n\n.t3 {\n    width: 120px !important;\n}\n\n.wp-10 {\n    width: 10px;\n}\n\n.wp-20 {\n    width: 20px;\n}\n\n.wp-30 {\n    width: 30px;\n}\n\n.wp-40 {\n    width: 40px;\n}\n\n.wp-50 {\n    width: 50px;\n}\n\n.wp-60 {\n    width: 60px;\n}\n\n.wp-70 {\n    width: 70px;\n}\n\n.wp-80 {\n    width: 80px;\n}\n\n.wp-90 {\n    width: 90px;\n}\n\n.wp-100 {\n    width: 100px;\n}\n\n.wp-110 {\n    width: 110px;\n}\n\n.wp-120 {\n    width: 120px;\n}\n\n.wp-130 {\n    width: 130px;\n}\n\n.wp-140 {\n    width: 140px;\n}\n\n.wp-150 {\n    width: 150px;\n}\n\n.wp-160 {\n    width: 160px;\n}\n\n.wp-170 {\n    width: 170px;\n}\n\n.wp-180 {\n    width: 180px;\n}\n\n.wp-190 {\n    width: 190px;\n}\n\n.wp-200 {\n    width: 200px;\n}\n\n.wp-250 {\n    width: 250px;\n}\n\n.sb-header {\n    width: 100%;\n    display: block;\n}\n\n.sb-header .header-border-top {\n    position: relative;\n    /* background: linear-gradient(45deg, #8f9091 60%, #230bb3 40%); */\n    background: linear-gradient(45deg, #8f9091 0, #8f9091 33%, #2b2b2a 33%, #2b2b2a 66%, #230bb3 66%, #230bb3 100%);\n    height: 15px;\n    print-color-adjust: exact !important;\n    -webkit-print-color-adjust: exact !important;\n}\n\n.sb-header .header-border-bottom {\n    display: block;\n    content: '';\n    width: 100%;\n    /* background: linear-gradient(45deg, #8f9091 60%, #230bb3 40%); */\n    background: linear-gradient(45deg, #8f9091 0, #8f9091 33%, #2b2b2a 33%, #2b2b2a 66%, #230bb3 66%, #230bb3 100%);\n    height: 5px;\n    print-color-adjust: exact !important;\n    -webkit-print-color-adjust: exact !important;\n}\n\n.sb-header .header-content {\n    padding: 0.35rem 1.8rem !important;\n}\n\n.sb-header .header-content .header-logo {\n    width: 150px !important;\n    vertical-align: top !important;\n    margin-bottom: 44px !important;\n}\n\n.table>caption+thead>tr:first-child>th,\n.table>colgroup+thead>tr:first-child>th,\n.table>thead:first-child>tr:first-child>th,\n.table>caption+thead>tr:first-child>td,\n.table>colgroup+thead>tr:first-child>td,\n.table>thead:first-child>tr:first-child>td {\n    border-top-width: 1px !important;\n    border-top: 1px solid rgb(184, 184, 184) !important;\n}\n\n.terms-and-conditions li {\n    text-indent: 5px !important;\n    font-size: 8px !important;\n    margin-left: 15px !important;\n    margin-bottom: 4px !important;\n}\n\n.sb-footer {\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    display: block;\n    text-align: justify;\n    /* padding: var(--page-padding) !important; */\n}\n\n.print-color-exact {\n    print-color-adjust: exact !important;\n    -webkit-print-color-adjust: exact !important;\n}\n\n.table.table-bordered thead tr th,\n.table.table-bordered thead tr td,\n.table.table-bordered tbody tr th,\n.table.table-bordered tbody tr td {\n    padding: 5px 5px !important;\n    border: 1px solid rgb(184, 184, 184);\n    font-size: 12px !important;\n}\n\n.table.table-bordered thead tr th,\n.table.table-bordered thead tr td {\n    font-size: 12px !important;\n    font-weight: bold !important;\n    border-top: none !important;\n}\n\n.table.table-bordered tbody tr th,\n.table.table-bordered tbody tr td {\n    font-size: 10px !important;\n}\n\n.table>caption+thead>tr:first-child>th,\n.table>colgroup+thead>tr:first-child>th,\n.table>thead:first-child>tr:first-child>th,\n.table>caption+thead>tr:first-child>td,\n.table>colgroup+thead>tr:first-child>td,\n.table>thead:first-child>tr:first-child>td {\n    border-top-width: 0px !important;\n    border-top: none !important;\n}\n\n.table>tbody>tr:last-child td,\n.table>tbody>tr:last-child th {\n    border-bottom-width: 0px !important;\n    border-bottom: none !important;\n}\n\ntable .table>thead>tr>th:first-child,\ntable .table>thead>tr>td:first-child,\ntable .table>tbody>tr>th:first-child,\ntable .table>tbody>tr>td:first-child {\n    border-left: none !important;\n    border-left-width: 0px !important;\n}\n\ntable .table>thead>tr>th:last-child,\ntable .table>thead>tr>td:last-child,\ntable .table>tbody>tr>th:last-child,\ntable .table>tbody>tr>td:last-child {\n    border-right: none !important;\n    border-right-width: 0px !important;\n}\n\n\n.text-muted {\n    color: #000 !important;\n}\n\n.table>thead>tr>th,\n.table>tbody>tr>th,\n.table>tfoot>tr>th,\n.table>thead>tr>td,\n.table>tbody>tr>td,\n.table>tfoot>tr>td {\n    padding: 8px;\n    line-height: 1.42857143;\n    vertical-align: top;\n    border-top: 1px solid rgb(184, 184, 184);\n}\n\n.total-table-space {\n    width: 52% !important;\n}\n\n.total-table-label {\n    width: 34% !important;\n}\n\n.total-table-value {\n    width: 14% !important;\n}\n\n.total-table-space-gift-voucher {\n    width: 58% !important;\n}\n\n.total-table-label-gift-voucher {\n    width: 30% !important;\n}\n\n.total-table-value-gift-voucher {\n    width: 12% !important;\n}\n\n.vertical-lr {\n    writing-mode: vertical-lr !important;\n    text-orientation: mixed !important;\n}\n\n.vertical-rl {\n    writing-mode: vertical-rl !important;\n    text-orientation: mixed !important;\n}\n\n.rotated-text {\n    writing-mode: tb-rl !important;\n    transform: rotate(-180deg) !important;\n}\n\ntable tbody tr td p {\n    word-break: break-all !important;\n}",
 "custom_format": 1,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "Purchase Receipt",
 "docstatus": 0,
 "doctype": "Print Format",
 "font_size": 14,
 "html": "{% set cgst_rate = [] -%}\n{% set sgst_rate = [] -%}\n{% set igst_rate = [] -%}\n{% set cgst_account_head = [] -%}\n{% set sgst_account_head = [] -%}\n{% set igst_account_head = [] -%}\n{% set tot_cgst_amount = [] %}\n{% set tot_sgst_amount = [] %}\n{% set tax_accounts = [] %}\n{% set grand_total = {\"qty\":0.0, \"amount\":0.0, \"cgst_amt\":0.0, \"sgst_amt\":0.0, \"igst_amt\":0.0} %}\n{% set ns = namespace(freight_amount=0) %}\n{%- for tax in doc.taxes -%}\n{% if 'CGST' in tax.account_head -%}\n{% set _ = cgst_account_head.append(tax.account_head) %}\n{% set _ = cgst_rate.append(tax.rate) %}\n{% set _ = tax_accounts.append(tax.description) %}\n{%- endif -%}\n{% if 'SGST' in tax.account_head -%}\n{% set _ = sgst_account_head.append(tax.account_head) %}\n{% set _ = sgst_rate.append(tax.rate) %}\n{% set _ = tax_accounts.append(tax.description) %}\n{%- endif -%}\n{% if 'IGST' in tax.account_head -%}\n{% set _ = igst_account_head.append(tax.account_head) %}\n{% set _ = igst_rate.append(tax.rate) %}\n{% set _ = tax_accounts.append(tax.description) %}\n{%- endif -%}\n{%- endfor -%}\n{% set items_dict = ({}) %}\n{%- with discount_data = {'amt':0, 'rate':0, 'is_excl':False}, gift_voucher_calc = {}, extra_data = {\"taxable_amt\":0,\n\"net_total\":0, \"grand_total\":0, \"shipping_amt\":0, \"shipping_incl_amt\":0, \"is_igst\":False, \"is_b2b\":False, \"voucher_calc\":{}}, total_data =\n{'price':0, 'discount_price':0, 'basic_amt':0, 'qty':0, 'taxable_amt':0, 'cgst_rate':0, 'sgst_rate':0, 'igst_rate':0,\n'cgst_amt':0,\n'sgst_amt':0,\n'igst_amt':0, 'total_amt':0, 'total_tax': 0, 'freight_charge':0} -%}\n\n\n{%- set _ = extra_data.update({\"is_b2b\": doc.get(\"customer_group\", \"Individual\") != \"Individual\"}) -%}\n{%- set is_gift_voucher_avail = doc.get(\"custom_voucher_calculation_for_gift\", []) -%}\n\n<section class=\"content\">\n  <table class=\"table table-p-0\">\n<thead>\n  {% set company_doc = frappe.get_doc(\"Company\", doc.company) %}\n\n  {# Company Master se linked Address nikaalne ka sahi logic #}\n  {# Hum pehle wo Address dhund rahe hain jo 'Company' se linked ho aur 'is_your_company_address' marked ho #}\n  {% set address_list = frappe.get_list(\"Address\", \n      filters=[\n          [\"Dynamic Link\", \"link_doctype\", \"=\", \"Company\"],\n          [\"Dynamic Link\", \"link_name\", \"=\", doc.company],\n          [\"is_your_company_address\", \"=\", 1]\n      ], \n      fields=[\"name\"], limit=1) \n  %}\n\n  {% set addr = None %}\n  {% if address_list %}\n      {% set addr = frappe.get_doc(\"Address\", address_list[0].name) %}\n  {% endif %}\n\n  <tr>\n    <td colspan=\"10\">\n      <div class=\"table-content mb-0 pb-1\">\n        <div class=\"row\">\n          <div class=\"col-100\">\n            <div class=\"sb-header border-top border-default\">\n              <div class=\"header-content\">\n                <div class=\"table-content\">\n                  <div class=\"row\">\n\n                    <!-- Logo -->\n                    <div class=\"col-50\">\n                      <img src=\"{{ company_doc.logo_for_printing or company_doc.company_logo or '' }}\" \n                           class=\"header-logo\" \n                           style=\"max-height:75px;\">\n                    </div>\n\n                    <!-- Company Details -->\n                    <div class=\"col-50\">\n                      <table class=\"table border-none-all table-p-1\">\n                        <tbody>\n\n                          <!-- Company Name -->\n                          <tr>\n                            <td colspan=\"2\">\n                              <p class=\"fs-small fw-bolder fst-upper\">\n                                {{ company_doc.company_name }}\n                              </p>\n                            </td>\n                          </tr>\n\n                          <!-- GST -->\n                          <tr>\n                            <td style=\"width:60px;\">\n                              <p class=\"fs-small text-muted fw-bold\">GSTIN:</p>\n                            </td>\n                            <td>\n                              <p class=\"fs-small text-muted fw-bold\">\n                                {{ company_doc.gstin or \"-\" }}\n                              </p>\n                            </td>\n                          </tr>\n\n                          <!-- PAN -->\n                          <tr>\n                            <td>\n                              <p class=\"fs-small text-muted fw-bold\">PAN:</p>\n                            </td>\n                            <td>\n                              <p class=\"fs-small text-muted fw-bold\">\n                                {{ company_doc.pan or \"-\" }}\n                              </p>\n                            </td>\n                          </tr>\n\n                          <!-- Company Address -->\n                          <tr>\n                            <td style=\"vertical-align:top;\">\n                              <p class=\"fs-small text-muted\">Address:</p>\n                            </td>\n                            <td>\n                              <div class=\"fs-small text-muted\">\n                                {% if addr %}\n                                  {{ addr.address_line1 or \"\" }}\n                                  {% if addr.address_line2 %}, {{ addr.address_line2 }}{% endif %}\n                                  <br>\n                                  {{ addr.city or \"\" }}{% if addr.state %}, {{ addr.state }}{% endif %}\n                                  <!--{% if addr.pincode %} - {{ addr.pincode }}{% endif %}-->\n                                  <br>\n                                  <!--{{ addr.country or \"\" }}-->\n                                {% else %}\n                                  {# Fallback: agar koi link nahi mila toh company ki default display field use karein #}\n                                  {{ company_doc.address_display or \"Address not set\" }}\n                                {% endif %}\n                              </div>\n                            </td>\n                          </tr>\n\n                        </tbody>\n                      </table>\n\n                      <!-- Contact Info -->\n                      <div class=\"d-flex\" style=\"gap:60px; margin-top:5px;\">\n                        <span class=\"d-inline-flex align-items-center\">\n                          <span style=\"color:#230bb3; font-size:18px;\">&#9990;</span>\n                          <p class=\"d-inline fs-mini text-muted font_no ps-1\">\n                            {{ company_doc.phone_no or \"\" }}\n                          </p>\n                        </span>\n\n                        <span class=\"d-inline-flex align-items-center\">\n                          <span style=\"color:#230bb3; font-size:18px;\">&#9993;</span>\n                          <p class=\"d-inline fs-mini text-muted font_no ps-1\">\n                            {{ company_doc.email or \"\" }}\n                          </p>\n                        </span>\n                      </div>\n\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </td>\n  </tr>\n</thead>\n    <tbody>\n      <!-- Title -->\n      <tr>\n        <td colspan=\"10\">\n          <div class=\"py-1\">\n            <p class=\"fs-large fw-bold text-center\">Purchase Receipt</p>\n          </div>\n        </td>\n      </tr>\n      <!-- Info Table -->\n      <tr>\n        <td colspan=\"10\">\n          <table class=\"table table-p-0\">\n            <tbody>\n              <tr>\n                <td style=\"width: 58% !important;border-top: none !important;border-bottom: none !important\">\n                  <table class=\"table border-none-all table-p-1\">\n                    <tbody>\n                      <tr>\n                        <td style=\"width: 16% !important;\">\n                          <p class=\"fs-small fw-bold\">Supplier :</p>\n                        </td>\n                        <td style=\"width: 84% !important;\">\n                          <p class=\"fs-small fw-bold fst-capitalize\">{{ frappe.db.get_value(\"Supplier\", doc.supplier, \"supplier_name\") or '' }}</p>\n                          <p class=\"fs-small text-muted fst-capitalize\">\n                            {{frappe.db.get_value(\"Address\", {'name':doc.supplier_address},\n                            ['address_line1']) or ''}}, {{frappe.db.get_value(\"Address\", {'name':doc.supplier_address},\n                            ['address_line2']) or ''}}, {{frappe.db.get_value(\"Address\", {'name':doc.supplier_address},\n                            ['custom_citytown']) or ''}}, {{frappe.db.get_value(\"Address\", {'name':doc.supplier_address},\n                            ['state'])\n                            or ''}}\n                            {{frappe.db.get_value(\"Address\", {'name':doc.supplier_address}, ['country']) or ''}},\n                            {{frappe.db.get_value(\"Address\", {'name':doc.supplier_address}, ['pincode']) or ''}}\n                          </p>\n                        </td>\n                      </tr>\n                      <tr>\n                        <td>\n                          <p class=\"fs-small fw-bold\">GSTIN:</p>\n                        </td>\n                        <td>\n                          <p class=\"fs-small fw-bold\">{{frappe.db.get_value(\"Address\", {'name':doc.supplier_address},\n                            ['gstin'])}}</p>\n                        </td>\n                      </tr>\n                      <tr>\n                        <td>\n                          <p class=\"fs-small fw-bold\">GST State:</p>\n                        </td>\n                        <td>\n                          <p class=\"fs-small fw-bold\">{{frappe.db.get_value(\"Address\", {'name':doc.supplier_address},\n                            ['gst_state'])}}</p>\n                        </td>\n                      </tr>\n                    </tbody>\n                  </table>\n                </td>\n                <td style=\"width: 42% important;border-top: none !important;border-bottom: none !important\">\n                  <table class=\"table border-none-all table-p-1\">\n                    <tbody>\n                        <tr>\n                                <td style=\"width: 25% !important;\">\n                                <p class=\"fs-small fw-bold\">No:</p>\n                                </td>\n                                <td style=\"width: 75% !important;\">\n                                <p class=\"fs-small fw-bold\">{{doc.get_formatted(\"name\")}}</p>\n                                </td>\n                        </tr>\n                        <tr>\n                                <td style=\"width: 25% !important;\">\n                                <p class=\"fs-small fw-bold\">Ref. No:</p>\n                                </td>\n                                <td style=\"width: 75% !important;\">\n                                <p class=\"fs-small fw-bold\"></p>\n                                </td>\n                        </tr>\n                        <tr>\n                                <td style=\"width: 25% !important;\">\n                                <p class=\"fs-small fw-bold\">Challan No:</p>\n                                </td>\n                                <td style=\"width: 75% !important;\">\n                                <p class=\"fs-small fw-bold\">{{ doc.supplier_delivery_note or \"-\" }}</p>\n                                </td>\n                        </tr>\n                        <tr>\n                                <td style=\"width: 25% !important;\">\n                                <p class=\"fs-small fw-bold\">Currency:</p>\n                                </td>\n                                <td style=\"width: 75% !important;\">\n                                <p class=\"fs-small fw-bold\">{{doc.currency}}</p>\n                                </td>\n                        </tr>\n                    </tbody>\n                  </table>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </td>\n      </tr>\n                      \n      <!-- Items Table -->\n      {%- if doc.get(\"taxes\", []) -%}\n      {%- for tax in doc.taxes -%}\n      {%- if \"igst\" in tax.get(\"account_head\", \"\").lower() -%}\n      {%- set _ = extra_data.update({'is_igst':True}) -%}\n      {%- endif -%}\n      {%- endfor -%}\n      {%- endif -%}\n\n      {%- set currency_symbol = frappe.utils.fmt_money(1, currency=doc.currency, precision=0).strip()[0] -%}\n      {%- set is_igst = extra_data.get(\"is_igst\", False) -%}\n      <tr>\n        <td colspan=\"10\">\n          {%- if is_gift_voucher_avail -%}\n          <table class=\"table table-p-2\">\n            <thead>\n              <tr>\n                <td style=\"width: 4% !important; align-content: centers !important;\" rowspan=\"2\">\n                  <p class=\"fs-xsmall text-muted fw-bold rotated-text- asdf\">\n                    S. No.\n                  </p>\n                </td>\n                <td style=\"width: 16% !important;\" rowspan=\"2\">\n                  <p class=\"fs-xsmall text-muted fw-bold asdf\">\n                    Product\n                  </p>\n                </td>\n                <td style=\"width: 6% !important;\" rowspan=\"2\">\n                  <p class =\"fs-xsmall text-muted fw-bold asdf\">\n                    HSN\n                  </p>\n                </td>\n                <td style=\"width: 8% !important;\" rowspan=\"2\">\n                  <p class=\"fs-xsmall text-muted fw-bold asdf\">\n                    Unit Price\n                  </p>\n                </td>\n                <td style=\"width: 4% !important;\" rowspan=\"2\">\n                  <p class=\"fs-xsmall text-muted fw-bold asdf\">\n                    Qty\n                  </p>\n                </td>\n                <td style=\"width: 6% !important;\" rowspan=\"2\">\n                  <p class=\"fs-xsmall text-muted fw-bold asdf\">\n                    Basic Amt\n                  </p>\n                </td>\n                <td style=\"width: 6% !important;\" rowspan=\"2\">\n                  <p class=\"fs-xsmall text-muted fw-bold asdf\">\n                    Discount\n                  </p>\n                </td>\n                <td style=\"width: 8% !important;\" rowspan=\"2\">\n                  <p class=\"fs-xsmall text-muted fw-bold asdf\">\n                    Taxable Amt\n                  </p>\n                </td>\n                <td style=\"width: 10% !important;\" colspan=\"2\">\n                  <p class=\"fs-xsmall text-muted fw-bold text-center asdf\">\n                    IGST\n                  </p>\n                </td>\n                <td style=\"width: 10% !important;\" colspan=\"2\">\n                  <p class=\"fs-xsmall text-muted fw-bold text-center asdf\">\n                    SGST\n                  </p>\n                </td>\n                <td style=\"width: 10% !important;\" colspan=\"2\">\n                  <p class=\"fs-xsmall text-muted fw-bold text-center asdf\">\n                    CGST\n                  </p>\n                </td>\n                <td style=\"width: 12% !important;\" rowspan=\"2\">\n                  <p class=\"fs-xsmall text-muted fw-bold text-end asdf\">\n                    Total Amt\n                  </p>\n                </td>\n              </tr>\n              <!-- GST Rate & Amt -->\n              <tr>\n                <td>\n                  <p class=\"fs-xsmall text-muted fw-bold asdf\">\n                    Rate\n                  </p>\n                </td>\n                <td>\n                  <p class=\"fs-xsmall text-muted fw-bold asdf\">\n                    Amt\n                  </p>\n                </td>\n                <td>\n                  <p class=\"fs-xsmall text-muted fw-bold asdf\">\n                    Rate\n                  </p>\n                </td>\n                <td>\n                  <p class=\"fs-xsmall text-muted fw-bold asdf\">\n                    Amt\n                  </p>\n                </td>\n                <td>\n                  <p class=\"fs-xsmall text-muted fw-bold asdf\">\n                    Rate\n                  </p>\n                </td>\n                <td>\n                  <p class=\"fs-xsmall text-muted fw-bold asdf\">\n                    Amt\n                  </p>\n                </td>\n              </tr>\n            </thead>\n            <tbody>\n              {%- for item in doc.items -%}\n              <code class=\"d-none\">\n                {% set cgst_amt = [] -%}\n                {% set sgst_amt = [] -%}\n                {% set igst_amt = [] -%}\n                {% set it_cgst_rate = [] -%}\n                {% set it_sgst_rate = [] -%}\n                {% set it_igst_rate = [] -%}\n                {% set rate_found_item = 0 -%}\n                {%- set item_record = frappe.get_doc(\"Item\", item.item_code) -%}\n                {% set mydict = json.loads(item.item_tax_rate) %}\n\n                <!--new logic item wise tax-->\n                {% for item_tax in item_record.taxes %}\n                {% if item_tax.item_tax_template == igst_account_head[0] %}\n                {% set _ = it_igst_rate.append(item_tax.tax_category) %}\n                {% set _ = igst_amt.append(item.amount * it_igst_rate[0] / 100) -%}\n                {% set rate_found_item = 1 -%}\n                {% endif %}\n\n                {% if item_tax.item_tax_template == sgst_account_head[0] %}\n                {% set _ = it_sgst_rate.append(item_tax.tax_category) %}\n                {% set _ = sgst_amt.append(item.amount * it_sgst_rate[0] / 100) -%}\n                {% set rate_found_item = 1 -%}\n                {% endif %}\n\n                {% if item_tax.item_tax_template == cgst_account_head[0] %}\n                {% set _ = it_cgst_rate.append(item_tax.tax_category) %}\n                {% set _ = cgst_amt.append(item.amount * it_cgst_rate[0] / 100) -%}\n                {% set rate_found_item = 1 -%}\n                {% endif %}\n\n                {% endfor %}\n                {% if rate_found_item == 0 %}\n                {% if cgst_rate[0] -%}\n                {% set _ = cgst_amt.append((item.amount * cgst_rate[0])/100) -%}\n                {% set _= it_cgst_rate.append(cgst_rate[0]) -%}\n                {% set rate_found_inv = 1 -%}\n                {%- endif -%}\n                {% if sgst_rate[0] -%}\n                {% set _ = sgst_amt.append((item.amount * sgst_rate[0])/100) -%}\n                {% set _= it_sgst_rate.append(sgst_rate[0]) -%}\n                {%- endif -%}\n                {% if igst_rate[0] -%}\n                {% set _ = igst_amt.append((item.amount * igst_rate[0])/100) -%}\n                {% set _= it_igst_rate.append(igst_rate[0]) -%}\n                {% set rate_found_inv = 1 -%}\n                {%- endif -%}\n                {% endif %}\n\n                <!--Start new logic item wise tax-->\n                {% if not it_cgst_rate[0] %}\n                {% for key, value in mydict.items() %}\n                {% if cgst_account_head[0] == key %}\n                {% set _ = it_cgst_rate.append(value) %}\n                {% for item_tax in doc.taxes %}\n                {% if item_tax.account_head == key %}\n                {% if item_tax.included_in_print_rate == 1 %}\n                {% set _ = cgst_amt.append(((item.net_rate * item.qty) * it_cgst_rate[0])/100) -%}\n                {% else %}\n\n                {% set _ = cgst_amt.append(((item.net_rate * item.qty) * it_cgst_rate[0])/100) -%}\n                {% endif %}\n                {% endif %}\n                {% endfor %}\n\n                {% set _ = cgst_amt.append(((item.net_rate * item.qty) * it_cgst_rate[0])/100) -%}\n                {% endif %}\n                {% endfor %}\n                {% endif %}\n                {% if not it_sgst_rate[0] %}\n                {% for key, value in mydict.items() %}\n                {% if sgst_account_head[0] == key %}\n                {% set _ = it_sgst_rate.append(value) %}\n                {% for item_tax in doc.taxes %}\n                {% if item_tax.account_head == key %}\n                {% if item_tax.included_in_print_rate == 1 %}\n                {% set _ = sgst_amt.append(((item.net_rate * item.qty) * it_sgst_rate[0])/100) -%}\n                {% else %}\n                {% set _ = sgst_amt.append(((item.net_rate * item.qty) * it_sgst_rate[0])/100) -%}\n                {% endif %}\n                {% endif %}\n                {% endfor %}\n                {% set _ = sgst_amt.append(((item.net_rate * item.qty) * it_sgst_rate[0])/100) -%}\n                {% endif %}\n                {% endfor %}\n                {% endif %}\n                {% if not it_igst_rate[0] %}\n                {% for key, value in mydict.items() %}\n                {% if igst_account_head[0] == key %}\n                {% set _ = it_igst_rate.append(value) %}\n                {% for item_tax in doc.taxes %}\n                {% if item_tax.account_head == key %}\n                {% if item_tax.included_in_print_rate == 1 %}\n                {% set _ = igst_amt.append(((item.net_rate * item.qty) * it_igst_rate[0])/100) -%}\n                {% else %}\n                {% set _ = igst_amt.append(((item.net_rate * item.qty) * it_igst_rate[0])/100) -%}\n                {% endif %}\n                {% endif %}\n                {% endfor %}\n                {% set _ = igst_amt.append(((item.net_rate * item.qty) * it_igst_rate[0])/100) -%}\n                {% set _ = igst_amt.append(((item.net_rate * item.qty) * (it_igst_rate[0]/100))) -%}\n                {% endif %}\n                {% endfor %}\n                {% endif %}\n\n                <!--End new logic item wise tax-->\n                {% if not it_cgst_rate[0] %}\n                {% set _ = it_cgst_rate.append(0) %}\n                {% set _ = cgst_amt.append(0) %}\n                {% endif %}\n                {% if not it_sgst_rate[0] %}\n                {% set _ = it_sgst_rate.append(0) %}\n                {% set _ = sgst_amt.append(0) %}\n                {% endif %}\n                {% if not it_igst_rate[0] %}\n                {% set _ = it_igst_rate.append(0) %}\n                {% set _ = igst_amt.append(0) %}\n                {% endif %}\n\n                {% set custom_tax_rate = it_cgst_rate[0] + it_sgst_rate[0] + it_igst_rate[0] %}\n                {% if item.gst_hsn_code|string in items_dict %}\n                {% if custom_tax_rate|string in items_dict.get(item.gst_hsn_code) %}\n                {% set _ = items_dict[''+item.gst_hsn_code|string].update( {\n                ''+custom_tax_rate|string : {\n                'qty': items_dict.get(item.gst_hsn_code).get(custom_tax_rate|string).get('qty') | int + item.qty |\n                int ,\n                'taxable_amount':\n                items_dict.get(item.gst_hsn_code).get(custom_tax_rate|string).get('taxable_amount') | float +\n                item.base_net_amount,\n                'tax_rate': items_dict.get(item.gst_hsn_code).get(custom_tax_rate|string).get('tax_rate') | int +\n                custom_tax_rate,\n                'cgst_rate': items_dict.get(item.gst_hsn_code).get(custom_tax_rate|string).get('cgst_rate') |int\n                | float + it_cgst_rate[0],\n                'cgst_amt': items_dict.get(item.gst_hsn_code).get(custom_tax_rate|string).get('cgst_amt') | float + cgst_amt[0],\n                'sgst_rate': items_dict.get(item.gst_hsn_code).get(custom_tax_rate|string).get('sgst_rate') |int\n                | float + it_sgst_rate[0],\n                'sgst_amt': items_dict.get(item.gst_hsn_code).get(custom_tax_rate|string).get('sgst_amt')\n                | float + sgst_amt[0],\n                'igst_rate': items_dict.get(item.gst_hsn_code).get(custom_tax_rate|string).get('igst_rate') |int\n                | float + it_igst_rate[0],\n                'igst_amt': items_dict.get(item.gst_hsn_code).get(custom_tax_rate|string).get('igst_amt')\n                | float + igst_amt[0] ,\n                'loop': items_dict.get(item.gst_hsn_code).get(custom_tax_rate|string).get('loop') | float\n                + 1 ,\n                'total_tax': items_dict.get(item.gst_hsn_code).get(custom_tax_rate|string).get('total_tax')\n               |float + (cgst_amt[0] + sgst_amt[0] + igst_amt[0])\n                } }) %}\n                {% else %}\n                {% set _ = items_dict[''+item.gst_hsn_code|string].update({''+custom_tax_rate|string : {'qty':\n                item.qty ,\n                'taxable_amount': item.base_net_amount, 'tax_rate': custom_tax_rate, 'cgst_rate':\n                it_cgst_rate[0], 'cgst_amt': cgst_amt[0],\n                'sgst_rate': it_sgst_rate[0], 'sgst_amt': sgst_amt[0], 'igst_rate': it_igst_rate[0], 'igst_amt':\n                igst_amt[0], 'loop':1.0, 'total_tax': cgst_amt[0] + sgst_amt[0] + igst_amt[0] }\n                }) %}\n                {% endif %}\n                {% else %}\n                {% set _ = items_dict.update({''+item.gst_hsn_code|string : {''+custom_tax_rate|string: { 'qty':\n                item.qty ,\n                'taxable_amount': item.base_net_amount, 'tax_rate': custom_tax_rate, 'cgst_rate':\n                it_cgst_rate[0], 'cgst_amt': cgst_amt[0],\n                'sgst_rate': it_sgst_rate[0], 'sgst_amt': sgst_amt[0], 'igst_rate': it_igst_rate[0], 'igst_amt':\n                igst_amt[0],'loop':1.0, 'total_tax': cgst_amt[0] + sgst_amt[0] + igst_amt[0] } }}) %}\n                {% endif %}\n                {% set total_tax = cgst_amt[0] + sgst_amt[0] + igst_amt[0] %}\n                {%- set total_tax_rate = it_cgst_rate[0] + it_sgst_rate[0] + it_igst_rate[0] -%}\n                {%- set _ = extra_data.update({\"taxable_amt\":(item.get(\"rate\", 0)/(1+total_tax_rate/100)) + extra_data.get(\"taxable_amt\", 0) }) -%}\n\n                {%- set _ = extra_data.update({'is_igst':igst_amt[0] > 0}) -%}\n\n                {%- for voucher_calc in doc.get(\"custom_voucher_calculation_for_gift\", []) -%}\n                  {%- if voucher_calc.get(\"product_upc\") == item.get(\"item_code\") -%}\n                    {%- set _ = gift_voucher_calc.update({item.get(\"item_code\"):voucher_calc}) -%}\n                    {%- set _ = extra_data.update({\"voucher_calc\":voucher_calc}) -%}\n                  {%- endif -%}\n                {%- endfor -%}\n\n                {%- set voucher_calc = extra_data.get(\"voucher_calc\") -%}\n              </code>\n              <tr>\n                <td>\n                  <p class=\"fs-mini\">\n                    {{loop.index}}.\n                  </p>\n                </td>\n                <td>\n                  <div class=\"fs-mini\">\n                    {{item.description|striptags}}\n                  </div>\n                </td>\n                <td>\n                  <p class=\"fs-mini\">\n                    {{item.get_formatted(\"gst_hsn_code\")}}\n                  </p>\n                </td>\n\n                <!-- Unit Price -->\n                {%- set item_price = (item.get(\"rate\", 0)/(1+total_tax_rate/100)) -%}\n                <td>\n                  <p class=\"fs-mini\">\n                    {{frappe.utils.fmt_money(item_price, currency=doc.currency, precision=2)}}\n\n                    {%- set _ = total_data.update({'price':item_price + total_data.get(\"price\", 0)}) -%}\n                  </p>\n                </td>\n                <td>\n                  <p class=\"fs-mini\">\n                    {%- set item_qty = item.get(\"qty\") -%}\n                    {{item_qty}}\n                    {%- set _ = total_data.update({'qty':item_qty + total_data.get(\"qty\", 0)}) -%}\n                  </p>\n                </td>\n                <!-- Basic Amt -->\n                <td>\n                  <p class=\"fs-mini\">\n                    {%- set basic_amt = voucher_calc.get(\"taxable_amount\")|float -%}\n\n                    {{frappe.utils.fmt_money(basic_amt, currency=doc.currency, precision=2)}}\n                    {%- set _ = total_data.update({'basic_amt':basic_amt + total_data.get(\"basic_amt\",\n                    0)}) -%}\n                  </p>\n                </td>\n                <!-- Discount Price -->\n                <td>\n                  <p class=\"fs-mini\">\n                    {%- set item_price = voucher_calc.get(\"taxable_amount\")|float -%}\n\n                    {%- set discount_price = (item.get(\"rate\", 0)/(1+total_tax_rate/100)) -\n                    item_price -%}\n\n                    {{frappe.utils.fmt_money(discount_price, currency=doc.currency, precision=2)}}\n                    {%- set _ = total_data.update({'discount_price':discount_price + total_data.get(\"discount_price\",\n                    0)}) -%}\n                  </p>\n                </td>\n\n                <!-- Taxable Amount -->\n                <td>\n                  <p class=\"fs-mini\">\n                    {%- set item_qty = item.get('qty', 0) -%}\n                    {%- set item_rate = item.get('rate', 0) -%}\n                    {%- set item_taxable_amt = item_rate - item_price -%}\n                    {%- set item_taxable_amt = item_price * item_qty -%}\n\n\n                    {{frappe.utils.fmt_money(item_taxable_amt, currency=doc.currency, precision=2)}}\n\n                    {%- set _ = total_data.update({'taxable_amt':item_taxable_amt + total_data.get(\"taxable_amt\", 0)})\n                    -%}\n                  </p>\n                </td>\n\n                <!-- Tax fields start -->\n                <td>\n                  <p class=\"fs-mini\">\n                    {% if it_igst_rate[0] > 0 %}\n                    {{it_igst_rate[0]}}\n                    {%- set _ = total_data.update({\"igst_rate\":it_igst_rate[0] + total_data.get(\"igst_rate\")}) -%}\n                    {% else %}\n                    N/A\n                    {% endif %}\n                  </p>\n                </td>\n                <td>\n                  <p class=\"fs-mini\">\n                    {% if it_igst_rate[0] > 0 %}\n                    <!-- {{frappe.utils.fmt_money(igst_amt[0], currency=doc.currency, precision=2)}} -->\n                    {%- set igst_amt = voucher_calc.get(\"gst_value\")|float * voucher_calc.get(\"qty\")|float-%}\n                    {{igst_amt}}\n                    {%- set _ = total_data.update({\"igst_amt\":igst_amt + total_data.get(\"igst_amt\")}) -%}\n                    {%- set _ = total_data.update({\"total_tax\": igst_amt + total_data.get(\"total_tax\", 0)}) -%}\n                    {% else %}\n                    N/A\n                    {% endif %}\n                  </p>\n                </td>\n                <td>\n                  <p class=\"fs-mini\">\n                    {% if it_sgst_rate[0] > 0 %}\n                    {{it_sgst_rate[0]}}\n                    {%- set _ = total_data.update({\"sgst_rate\":it_sgst_rate[0] + total_data.get(\"sgst_rate\")}) -%}\n                    {%- else -%}\n                    N/A\n                    {%- endif -%}\n                  </p>\n                </td>\n                <td>\n                  <p class=\"fs-mini\">\n                    {% if it_sgst_rate[0] > 0 %}\n                    <!-- {{frappe.utils.fmt_money(sgst_amt[0], currency=doc.currency, precision=2)}} -->\n                    {%- set sgst_amt = (voucher_calc.get(\"gst_value\")|float * voucher_calc.get(\"qty\")|float)/2 -%}\n                    {{\"%.2f\" % sgst_amt}}\n                    {%- set _ = total_data.update({\"sgst_amt\":sgst_amt + total_data.get(\"sgst_amt\")}) -%}\n                    {%- set _ = total_data.update({\"total_tax\": sgst_amt + total_data.get(\"total_tax\", 0)}) -%}\n                    {%- else -%}\n                    N/A\n                    {%- endif -%}\n                  </p>\n                </td>\n                <td>\n                  <p class=\"fs-mini\">\n                    {% if it_cgst_rate[0] > 0 %}\n                    {{it_cgst_rate[0]}}\n                    {%- set _ = total_data.update({\"cgst_rate\":it_cgst_rate[0] + total_data.get(\"cgst_rate\")}) -%}\n                    {%- else -%}\n                    N/A\n                    {%- endif -%}\n                  </p>\n                </td>\n                <td>\n                  <p class=\"fs-mini\">\n                    {% if it_cgst_rate[0] > 0 %}\n                    <!-- {{frappe.utils.fmt_money(cgst_amt[0], currency=doc.currency, precision=2)}} -->\n                    {%- set cgst_amt = (voucher_calc.get(\"gst_value\")|float * voucher_calc.get(\"qty\")|float)/2 -%}\n                    {{\"%.2f\" % cgst_amt}}\n                    {%- set _ = total_data.update({\"cgst_amt\":cgst_amt + total_data.get(\"cgst_amt\")}) -%}\n                    {%- set _ = total_data.update({\"total_tax\": cgst_amt + total_data.get(\"total_tax\", 0)}) -%}\n                    {%- else -%}\n                    N/A\n                    {%- endif -%}\n                  </p>\n                </td>\n                <!-- Tax fields end -->\n\n                <td>\n                  {%- if voucher_calc -%}\n                  {%- set total_amt = voucher_calc.get(\"order_value\")|float -%}\n                  {%- else -%}\n                  <!-- {%- set total_amt = item.amount + total_tax -%} -->\n                  {%- set total_amt = item.amount -%}\n                  {%- endif -%}\n                  <p class=\"fs-mini text-right\">\n                    {{frappe.utils.fmt_money(total_amt, currency=doc.currency, precision=2)}}\n                    {%- set _ = total_data.update({'total_amt':total_amt + total_data.get(\"total_amt\", 0)}) -%}\n                  </p>\n                </td>\n              </tr>\n              {%- endfor -%}\n\n              <!-- Total Row Start -->\n              <tr>\n                <td colspan=\"5\" class=\"\">\n                  <p class=\"fs-mini text-end fw-bold\">\n                    Total\n                  </p>\n                </td>\n                <!-- Basic amt total -->\n                <td>\n                  <p class=\"fs-mini\">\n                    {{frappe.utils.fmt_money(total_data.get(\"basic_amt\"), currency=doc.currency, precision=2)}}\n                  </p>\n                </td>\n                <!-- Discount total -->\n                <td>\n                  <p class=\"fs-mini\">\n                    {{frappe.utils.fmt_money(total_data.get(\"discount_price\"), currency=doc.currency, precision=2)}}\n                  </p>\n                </td>\n                <td>\n                  <p class=\"fs-mini\">\n                    {{frappe.utils.fmt_money(total_data.get(\"taxable_amt\"), currency=doc.currency, precision=2)}}\n                  </p>\n                </td>\n\n                <!-- tax total calc start -->\n\n                <td colspan=\"6\">\n                  <p class=\"fs-mini text-center\">\n                    {{frappe.utils.fmt_money(total_data.get(\"igst_amt\") + total_data.get(\"cgst_amt\") +\n                    total_data.get(\"sgst_amt\"),\n                    currency=doc.currency, precision=2)}}\n                  </p>\n                </td>\n                <!-- tax total calc end -->\n\n                <td>\n                  <p class=\"fs-mini text-right\">\n                    {{frappe.utils.fmt_money(total_data.get(\"total_amt\"), currency=doc.currency, precision=2)}}\n                  </p>\n                </td>\n              </tr>\n              <!-- Total Row End -->\n\n            </tbody>\n          </table>\n          {%- else -%}\n          <table class=\"table table-p-2\">\n            <thead>\n              {%- if is_igst -%}\n              <tr>\n                <td style=\"width: 6% !important; align-content: centers !important;\" rowspan=\"2\">\n                  <p class=\"fs-xsmall text-muted fw-bold rotated-text- asdf\">\n                    S. No.\n                  </p>\n                </td>\n                <td style=\"width: 20% !important;\" rowspan=\"2\">\n                  <p class=\"fs-xsmall text-muted fw-bold asdf\">\n                    Product\n                  </p>\n                </td>\n                <td style=\"width: 8% !important;\" rowspan=\"2\">\n                  <p class=\"fs-xsmall text-muted fw-bold asdf\">\n                    HSN\n                  </p>\n                </td>\n                <td style=\"width: 12% !important;\" rowspan=\"2\">\n                  <p class=\"fs-xsmall text-muted fw-bold asdf\">\n                    Price\n                  </p>\n                </td>\n                <td style=\"width: 6% !important;\" rowspan=\"2\">\n                  <p class=\"fs-xsmall text-muted fw-bold asdf\">\n                    Qty\n                  </p>\n                </td>\n                <td style=\"width: 12% !important;\" rowspan=\"2\">\n                  <p class=\"fs-xsmall text-muted fw-bold asdf\">\n                    Taxable Amt\n                  </p>\n                </td>\n                <td style=\"width: 22% !important;\" colspan=\"2\">\n                  <p class=\"fs-xsmall text-muted fw-bold text-center asdf\">\n                    Tax IGST\n                  </p>\n                </td>\n                <td style=\"width: 14% !important;\" rowspan=\"2\">\n                  <p class=\"fs-xsmall text-muted fw-bold text-right asdf\">\n                    Total Amt\n                  </p>\n                </td>\n              </tr>\n              <!-- IGST -->\n              <tr>\n                <td>\n                  <p class=\"fs-xsmall text-muted fw-bold asdf\">\n                    Rate %\n                  </p>\n                </td>\n                <td>\n                  <p class=\"fs-xsmall text-muted fw-bold asdf\">\n                    Amt {{currency_symbol}}\n                  </p>\n                </td>\n              </tr>\n\n              {%- else -%}\n              <tr>\n                <td style=\"width: 6% !important; align-content: centers !important;\" rowspan=\"2\">\n                  <p class=\"fs-xsmall text-muted fw-bold rotated-text- asdf\">\n                    S. No.\n                  </p>\n                </td>\n                <td style=\"width: 20% !important;\" rowspan=\"2\">\n                  <p class=\"fs-xsmall text-muted fw-bold asdf\">\n                    Product\n                  </p>\n                </td>\n                <td style=\"width: 8% !important;\" rowspan=\"2\">\n                  <p class=\"fs-xsmall text-muted fw-bold asdf\">\n                    HSN\n                  </p>\n                </td>\n                <td style=\"width: 12% !important;\" rowspan=\"2\">\n                  <p class=\"fs-xsmall text-muted fw-bold asdf\">\n                    Price\n                  </p>\n                </td>\n                <td style=\"width: 6% !important;\" rowspan=\"2\">\n                  <p class=\"fs-xsmall text-muted fw-bold asdf\">\n                    Qty\n                  </p>\n                </td>\n                <td style=\"width: 12% !important;\" rowspan=\"2\">\n                  <p class=\"fs-xsmall text-muted fw-bold asdf\">\n                    Taxable Amt\n                  </p>\n                </td>\n                <td style=\"width: 11% !important;\" colspan=\"2\">\n                  <p class=\"fs-xsmall text-muted fw-bold text-center asdf\">\n                    Tax Rate %\n                  </p>\n                </td>\n                <td style=\"width: 11% !important;\" colspan=\"2\">\n                  <p class=\"fs-xsmall text-muted fw-bold text-center asdf\">\n                    Tax Amt {{currency_symbol}}\n                  </p>\n                </td>\n                <td style=\"width: 14% !important;\" rowspan=\"2\">\n                  <p class=\"fs-xsmall text-muted fw-bold text-right asdf\">\n                    Total Amt\n                  </p>\n                </td>\n              </tr>\n              <!-- CGST & SGST -->\n              <tr>\n                <td>\n                  <p class=\"fs-mini text-muted fw-bold asdf\">\n                    CGST\n                  </p>\n                </td>\n                <td>\n                  <p class=\"fs-mini text-muted fw-bold asdf\">\n                    SGST\n                  </p>\n                </td>\n                <td>\n                  <p class=\"fs-mini text-muted fw-bold asdf\">\n                    CGST\n                  </p>\n                </td>\n                <td>\n                  <p class=\"fs-mini text-muted fw-bold asdf\">\n                    SGST\n                  </p>\n                </td>\n              </tr>\n              {%- endif -%}\n            </thead>\n            <tbody>\n              {%- for item in doc.items -%}\n              <code class=\"d-none\">\n                {% set cgst_amt = [] -%}\n                {% set sgst_amt = [] -%}\n                {% set igst_amt = [] -%}\n                {% set it_cgst_rate = [] -%}\n                {% set it_sgst_rate = [] -%}\n                {% set it_igst_rate = [] -%}\n                {% set rate_found_item = 0 -%}\n                {%- set item_record = frappe.get_doc(\"Item\", item.item_code) -%}\n                {% set mydict = json.loads(item.item_tax_rate) %}\n\n                <!--new logic item wise tax-->\n                {% for item_tax in item_record.taxes %}\n                {% if item_tax.item_tax_template == igst_account_head[0] %}\n                {% set _ = it_igst_rate.append(item_tax.tax_category) %}\n                {% set _ = igst_amt.append(item.amount * it_igst_rate[0] / 100) -%}\n                {% set rate_found_item = 1 -%}\n                {% endif %}\n\n                {% if item_tax.item_tax_template == sgst_account_head[0] %}\n                {% set _ = it_sgst_rate.append(item_tax.tax_category) %}\n                {% set _ = sgst_amt.append(item.amount * it_sgst_rate[0] / 100) -%}\n                {% set rate_found_item = 1 -%}\n                {% endif %}\n\n                {% if item_tax.item_tax_template == cgst_account_head[0] %}\n                {% set _ = it_cgst_rate.append(item_tax.tax_category) %}\n                {% set _ = cgst_amt.append(item.amount * it_cgst_rate[0] / 100) -%}\n                {% set rate_found_item = 1 -%}\n                {% endif %}\n\n                {% endfor %}\n                {% if rate_found_item == 0 %}\n                {% if cgst_rate[0] -%}\n                {% set _ = cgst_amt.append((item.amount * cgst_rate[0])/100) -%}\n                {% set _= it_cgst_rate.append(cgst_rate[0]) -%}\n                {% set rate_found_inv = 1 -%}\n                {%- endif -%}\n                {% if sgst_rate[0] -%}\n                {% set _ = sgst_amt.append((item.amount * sgst_rate[0])/100) -%}\n                {% set _= it_sgst_rate.append(sgst_rate[0]) -%}\n                {%- endif -%}\n                {% if igst_rate[0] -%}\n                {% set _ = igst_amt.append((item.amount * igst_rate[0])/100) -%}\n                {% set _= it_igst_rate.append(igst_rate[0]) -%}\n                {% set rate_found_inv = 1 -%}\n                {%- endif -%}\n                {% endif %}\n\n                <!--Start new logic item wise tax-->\n                {% if not it_cgst_rate[0] %}\n                {% for key, value in mydict.items() %}\n                {% if cgst_account_head[0] == key %}\n                {% set _ = it_cgst_rate.append(value) %}\n                {% for item_tax in doc.taxes %}\n                {% if item_tax.account_head == key %}\n                {% if item_tax.included_in_print_rate == 1 %}\n                {% set _ = cgst_amt.append(((item.net_rate * item.qty) * it_cgst_rate[0])/100) -%}\n                {% else %}\n\n                {% set _ = cgst_amt.append(((item.net_rate * item.qty) * it_cgst_rate[0])/100) -%}\n                {% endif %}\n                {% endif %}\n                {% endfor %}\n\n                {% set _ = cgst_amt.append(((item.net_rate * item.qty) * it_cgst_rate[0])/100) -%}\n                {% endif %}\n                {% endfor %}\n                {% endif %}\n                {% if not it_sgst_rate[0] %}\n                {% for key, value in mydict.items() %}\n                {% if sgst_account_head[0] == key %}\n                {% set _ = it_sgst_rate.append(value) %}\n                {% for item_tax in doc.taxes %}\n                {% if item_tax.account_head == key %}\n                {% if item_tax.included_in_print_rate == 1 %}\n                {% set _ = sgst_amt.append(((item.net_rate * item.qty) * it_sgst_rate[0])/100) -%}\n                {% else %}\n                {% set _ = sgst_amt.append(((item.net_rate * item.qty) * it_sgst_rate[0])/100) -%}\n                {% endif %}\n                {% endif %}\n                {% endfor %}\n                {% set _ = sgst_amt.append(((item.net_rate * item.qty) * it_sgst_rate[0])/100) -%}\n                {% endif %}\n                {% endfor %}\n                {% endif %}\n                {% if not it_igst_rate[0] %}\n                {% for key, value in mydict.items() %}\n                {% if igst_account_head[0] == key %}\n                {% set _ = it_igst_rate.append(value) %}\n                {% for item_tax in doc.taxes %}\n                {% if item_tax.account_head == key %}\n                {% if item_tax.included_in_print_rate == 1 %}\n                {% set _ = igst_amt.append(((item.net_rate * item.qty) * it_igst_rate[0])/100) -%}\n                {% else %}\n                {% set _ = igst_amt.append(((item.net_rate * item.qty) * it_igst_rate[0])/100) -%}\n                {% endif %}\n                {% endif %}\n                {% endfor %}\n                {% set _ = igst_amt.append(((item.net_rate * item.qty) * it_igst_rate[0])/100) -%}\n                {% set _ = igst_amt.append(((item.net_rate * item.qty) * (it_igst_rate[0]/100))) -%}\n                {% endif %}\n                {% endfor %}\n                {% endif %}\n\n                <!--End new logic item wise tax-->\n                {% if not it_cgst_rate[0] %}\n                {% set _ = it_cgst_rate.append(0) %}\n                {% set _ = cgst_amt.append(0) %}\n                {% endif %}\n                {% if not it_sgst_rate[0] %}\n                {% set _ = it_sgst_rate.append(0) %}\n                {% set _ = sgst_amt.append(0) %}\n                {% endif %}\n                {% if not it_igst_rate[0] %}\n                {% set _ = it_igst_rate.append(0) %}\n                {% set _ = igst_amt.append(0) %}\n                {% endif %}\n\n                {% set custom_tax_rate = it_cgst_rate[0] + it_sgst_rate[0] + it_igst_rate[0] %}\n                {% if item.gst_hsn_code|string in items_dict %}\n                {% if custom_tax_rate|string in items_dict.get(item.gst_hsn_code) %}\n                {% set _ = items_dict[''+item.gst_hsn_code|string].update( {\n                ''+custom_tax_rate|string : {\n                'qty': items_dict.get(item.gst_hsn_code).get(custom_tax_rate|string).get('qty') | int + item.qty |\n                int ,\n                'taxable_amount':\n                items_dict.get(item.gst_hsn_code).get(custom_tax_rate|string).get('taxable_amount') | float +\n                item.base_net_amount,\n                'tax_rate': items_dict.get(item.gst_hsn_code).get(custom_tax_rate|string).get('tax_rate') | int +\n                custom_tax_rate,\n                'cgst_rate': items_dict.get(item.gst_hsn_code).get(custom_tax_rate|string).get('cgst_rate') |int\n                | float + it_cgst_rate[0],\n                'cgst_amt': items_dict.get(item.gst_hsn_code).get(custom_tax_rate|string).get('cgst_amt') \n                | float + cgst_amt[0],\n                'sgst_rate': items_dict.get(item.gst_hsn_code).get(custom_tax_rate|string).get('sgst_rate') |int\n                | float + it_sgst_rate[0],\n                'sgst_amt': items_dict.get(item.gst_hsn_code).get(custom_tax_rate|string).get('sgst_amt')\n                | float + sgst_amt[0],\n                'igst_rate': items_dict.get(item.gst_hsn_code).get(custom_tax_rate|string).get('igst_rate') |int\n                | float + it_igst_rate[0],\n                'igst_amt': items_dict.get(item.gst_hsn_code).get(custom_tax_rate|string).get('igst_amt')\n                | float + igst_amt[0] ,\n                'loop': items_dict.get(item.gst_hsn_code).get(custom_tax_rate|string).get('loop') | float\n                + 1 ,\n                'total_tax': items_dict.get(item.gst_hsn_code).get(custom_tax_rate|string).get('total_tax')\n                |float + (cgst_amt[0] + sgst_amt[0] + igst_amt[0])\n                } }) %}\n                {% else %}\n                {% set _ = items_dict[''+item.gst_hsn_code|string].update({''+custom_tax_rate|string : {'qty':\n                item.qty ,\n                'taxable_amount': item.base_net_amount, 'tax_rate': custom_tax_rate, 'cgst_rate':\n                it_cgst_rate[0], 'cgst_amt': cgst_amt[0],\n                'sgst_rate': it_sgst_rate[0], 'sgst_amt': sgst_amt[0], 'igst_rate': it_igst_rate[0], 'igst_amt':\n                igst_amt[0], 'loop':1.0, 'total_tax': cgst_amt[0] + sgst_amt[0] + igst_amt[0] }\n                }) %}\n                {% endif %}\n                {% else %}\n                {% set _ = items_dict.update({''+item.gst_hsn_code|string : {''+custom_tax_rate|string: { 'qty':\n                item.qty ,\n                'taxable_amount': item.base_net_amount, 'tax_rate': custom_tax_rate, 'cgst_rate':\n                it_cgst_rate[0], 'cgst_amt': cgst_amt[0],\n                'sgst_rate': it_sgst_rate[0], 'sgst_amt': sgst_amt[0], 'igst_rate': it_igst_rate[0], 'igst_amt':\n                igst_amt[0],'loop':1.0, 'total_tax': cgst_amt[0] + sgst_amt[0] + igst_amt[0] } }}) %}\n                {% endif %}\n                {% set total_tax = cgst_amt[0] + sgst_amt[0] + igst_amt[0] %}\n                {%- set total_tax_rate = it_cgst_rate[0] + it_sgst_rate[0] + it_igst_rate[0] -%}\n                {%- set _ = extra_data.update({\"taxable_amt\":(item.get(\"rate\", 0)/(1+total_tax_rate/100)) + extra_data.get(\"taxable_amt\", 0) }) -%}\n\n                {%- set _ = extra_data.update({'is_igst':igst_amt[0] > 0}) -%}\n\n               \n              </code>\n              <tr>\n                <td>\n                  <p class=\"fs-mini\">\n                    {{loop.index}}.\n                  </p>\n                </td>\n                <td>\n                  <p class=\"fs-mini\">\n                    {{item.description|striptags}}\n                    \n                    <!-- Yeh line Item Master se Design No nikalegi -->\n                    {% set design_no = frappe.db.get_value(\"Item\", item.item_code, \"custom_sup_design_no\") %}\n                    {% if design_no %}\n                    <br> {{ design_no }}\n                    {% endif %}\n\n                    {%- if item.gst_hsn_code and is_gift_voucher_avail -%}\n                    <br>\n                    <b>HSN</b> : {{item.get_formatted(\"gst_hsn_code\")}}\n                    {%- endif -%}\n                  </p>\n                </td>\n\n                <!-- HSN Code -->\n                <td>\n                  <p class=\"fs-mini\">\n                    {{item.get_formatted(\"gst_hsn_code\")}}\n                  </p>\n                </td>\n                <!-- Offer Price -->\n                <td>\n                  <p class=\"fs-mini\">\n                    {%- if voucher_calc -%}\n                    {%- set item_price = voucher_calc.get(\"taxable_amount\")|float -%}\n                    {%- else -%}\n                    {%- set item_price = (item.get(\"rate\", 0)/(1+total_tax_rate/100)) -%}\n                    {%- endif -%}\n                    {{frappe.utils.fmt_money(item_price, currency=doc.currency, precision=2)}}\n                    {%- set _ = total_data.update({'price':item_price + total_data.get(\"price\", 0)}) -%}\n                  </p>\n                </td>\n                <td>\n                  <p class=\"fs-mini\">\n                    {%- set item_qty = item.get(\"qty\") -%}\n                    {{item_qty}}\n                    {%- set _ = total_data.update({'qty':item_qty + total_data.get(\"qty\", 0)}) -%}\n                  </p>\n                </td>\n\n                <!-- Taxable Amount -->\n                <td>\n                  <p class=\"fs-mini\">\n                    {%- set item_qty = item.get('qty', 0) -%}\n                    {%- set item_rate = item.get('rate', 0) -%}\n                    {%- set item_taxable_amt = item_rate - item_price -%}\n                    {%- set item_taxable_amt = item_price * item_qty -%}\n\n\n                    {{frappe.utils.fmt_money(item_taxable_amt, currency=doc.currency, precision=2)}}\n\n                    {%- set _ = total_data.update({'taxable_amt':item_taxable_amt + total_data.get(\"taxable_amt\", 0)})\n                    -%}\n                  </p>\n                </td>\n\n                <!-- new fields start -->\n                {%- if voucher_calc -%}\n                {%- if is_igst -%}\n                <td>\n                  <p class=\"fs-mini\">\n                    {{it_igst_rate[0]}}\n                    {%- set _ = total_data.update({\"igst_rate\":it_igst_rate[0] + total_data.get(\"igst_rate\")}) -%}\n                  </p>\n                </td>\n                <td>\n                  <p class=\"fs-mini\">\n                    <!-- {{frappe.utils.fmt_money(igst_amt[0], currency=doc.currency, precision=2)}} -->\n                    {%- set igst_amt = voucher_calc.get(\"gst_value\")|float * voucher_calc.get(\"qty\")|float-%}\n                    {{igst_amt}}\n                    {%- set _ = total_data.update({\"igst_amt\":igst_amt + total_data.get(\"igst_amt\")}) -%}\n                    {%- set _ = total_data.update({\"total_tax\": igst_amt + total_data.get(\"total_tax\", 0)}) -%}\n                  </p>\n                </td>\n                {%- else -%}\n                <td>\n                  <p class=\"fs-mini\">\n                    {{it_cgst_rate[0]}}\n                    {%- set _ = total_data.update({\"cgst_rate\":it_cgst_rate[0] + total_data.get(\"cgst_rate\")}) -%}\n                  </p>\n                </td>\n                <td>\n                  <p class=\"fs-mini\">\n                    {{it_sgst_rate[0]}}\n                    {%- set _ = total_data.update({\"sgst_rate\":it_sgst_rate[0] + total_data.get(\"sgst_rate\")}) -%}\n                  </p>\n                </td>\n                <td>\n                  <p class=\"fs-mini\">\n                    <!-- {{frappe.utils.fmt_money(cgst_amt[0], currency=doc.currency, precision=2)}} -->\n                    {%- set cgst_amt = (voucher_calc.get(\"gst_value\")|float * voucher_calc.get(\"qty\")|float)/2 -%}\n                    {{\"%.2f\" % cgst_amt}}\n                    {%- set _ = total_data.update({\"cgst_amt\":cgst_amt + total_data.get(\"cgst_amt\")}) -%}\n                    {%- set _ = total_data.update({\"total_tax\": cgst_amt + total_data.get(\"total_tax\", 0)}) -%}\n                  </p>\n                </td>\n                <td>\n                  <p class=\"fs-mini\">\n                    <!-- {{frappe.utils.fmt_money(sgst_amt[0], currency=doc.currency, precision=2)}} -->\n                    {%- set sgst_amt = (voucher_calc.get(\"gst_value\")|float * voucher_calc.get(\"qty\")|float)/2 -%}\n                    {{\"%.2f\" % sgst_amt}}\n                    {%- set _ = total_data.update({\"sgst_amt\":sgst_amt + total_data.get(\"sgst_amt\")}) -%}\n                    {%- set _ = total_data.update({\"total_tax\": sgst_amt + total_data.get(\"total_tax\", 0)}) -%}\n                  </p>\n                </td>\n                {%- endif -%}\n                {%- else -%}\n                {%- if is_igst -%}\n                <td>\n                  <p class=\"fs-mini\">\n                    {{it_igst_rate[0]}}\n                    {%- set _ = total_data.update({\"igst_rate\":it_igst_rate[0] + total_data.get(\"igst_rate\")}) -%}\n                  </p>\n                </td>\n                <td>\n                  <p class=\"fs-mini\">\n                    <!-- {{frappe.utils.fmt_money(igst_amt[0], currency=doc.currency, precision=2)}} -->\n                    {{\"%.2f\" % igst_amt[0]}}\n                    {%- set _ = total_data.update({\"igst_amt\":igst_amt[0] + total_data.get(\"igst_amt\")}) -%}\n                    {%- set _ = total_data.update({\"total_tax\": igst_amt[0] + total_data.get(\"total_tax\", 0)}) -%}\n                  </p>\n                </td>\n                {%- else -%}\n                <td>\n                  <p class=\"fs-mini\">\n                    {{it_cgst_rate[0]}}\n                    {%- set _ = total_data.update({\"cgst_rate\":it_cgst_rate[0] + total_data.get(\"cgst_rate\")}) -%}\n                  </p>\n                </td>\n                <td>\n                  <p class=\"fs-mini\">\n                    {{it_sgst_rate[0]}}\n                    {%- set _ = total_data.update({\"sgst_rate\":it_sgst_rate[0] + total_data.get(\"sgst_rate\")}) -%}\n                  </p>\n                </td>\n                <td>\n                  <p class=\"fs-mini\">\n                    <!-- {{frappe.utils.fmt_money(cgst_amt[0], currency=doc.currency, precision=2)}} -->\n                    {{\"%.2f\" % cgst_amt[0]}}\n                    {%- set _ = total_data.update({\"cgst_amt\":cgst_amt[0] + total_data.get(\"cgst_amt\")}) -%}\n                    {%- set _ = total_data.update({\"total_tax\": cgst_amt[0] + total_data.get(\"total_tax\", 0)}) -%}\n                  </p>\n                </td>\n                <td>\n                  <p class=\"fs-mini\">\n                    <!-- {{frappe.utils.fmt_money(sgst_amt[0], currency=doc.currency, precision=2)}} -->\n                    {{\"%.2f\" % sgst_amt[0]}}\n                    {%- set _ = total_data.update({\"sgst_amt\":sgst_amt[0] + total_data.get(\"sgst_amt\")}) -%}\n                    {%- set _ = total_data.update({\"total_tax\": sgst_amt[0] + total_data.get(\"total_tax\", 0)}) -%}\n                  </p>\n                </td>\n                {%- endif -%}\n                {%- endif -%}\n                <!-- new fields end -->\n\n                <td>\n                  {%- if voucher_calc -%}\n                  {%- set total_amt = voucher_calc.get(\"order_value\")|float -%}\n                  {%- else -%}\n                  <!-- {%- set total_amt = item.amount + total_tax -%} -->\n                  {%- set total_amt = item.amount -%}\n                  {%- endif -%}\n                  <p class=\"fs-mini text-right\">\n                    {{frappe.utils.fmt_money(total_amt, currency=doc.currency, precision=2)}}\n                    {%- set _ = total_data.update({'total_amt':total_amt + total_data.get(\"total_amt\", 0)}) -%}\n                  </p>\n                </td>\n              </tr>\n              {%- endfor -%}\n\n              <!-- Total Row Start -->\n              <tr style=\"font-weight:700; font-size:25px;\">\n                <td colspan=\"3\" class=\"\">\n                  <p class=\"fs-mini text-end fw-bold\">\n                    Total\n                  </p>\n                </td>\n\n                <td>\n                  <p class=\"fs-mini\">\n                    {{frappe.utils.fmt_money(total_data.get(\"price\"), currency=doc.currency, precision=2)}}\n                  </p>\n                </td>\n                <td>\n                  <p class=\"fs-mini\">\n                    {{total_data.get(\"qty\")}}\n                  </p>\n                </td>\n                <td>\n                  <p class=\"fs-mini\">\n                    {{frappe.utils.fmt_money(total_data.get(\"taxable_amt\"), currency=doc.currency, precision=2)}}\n                  </p>\n                </td>\n\n                <!-- new fields start -->\n                {%- if is_igst -%}\n                <td class=\"bg-light\">\n                  <p class=\"fs-mini\">\n                    <!-- {{total_data.get(\"igst_rate\")}} -->\n                  </p>\n                </td>\n                <td>\n                  <p class=\"fs-mini\">\n                    <!-- {{total_data.get(\"igst_amt\")}} -->\n                    {{frappe.utils.fmt_money(total_data.get(\"igst_amt\"), currency=doc.currency, precision=2)}}\n                  </p>\n                </td>\n                {%- else -%}\n                <td colspan=\"2\" class=\"bg-light\">\n                  <p class=\"fs-mini text-center\">\n                    <!-- {{total_data.get(\"cgst_rate\") + total_data.get(\"sgst_rate\")}}&nbsp;% -->\n                  </p>\n                </td>\n                <td colspan=\"2\">\n                  <p class=\"fs-mini text-center\">\n                    <!-- {{(total_data.get(\"cgst_amt\") + total_data.get(\"sgst_amt\"))}} -->\n                    {{frappe.utils.fmt_money(total_data.get(\"cgst_amt\") + total_data.get(\"sgst_amt\"),\n                    currency=doc.currency, precision=2)}}\n                  </p>\n                </td>\n                {%- endif -%}\n                <!-- new fields end -->\n\n                <td>\n                  <p class=\"fs-mini text-right\">\n                    {{frappe.utils.fmt_money(total_data.get(\"total_amt\"), currency=doc.currency, precision=2)}}\n                  </p>\n                </td>\n              </tr>\n              <!-- Total Row End -->\n\n            </tbody>\n          </table>\n          {%- endif -%}\n        </td>\n      </tr>\n\n      <!-- Totals Area Start -->\n      <tr>\n        <td colspan=\"10\" style=\"border-top: none !important;\">\n          <!-- is gift voucher start -->\n          {%- if is_gift_voucher_avail -%}\n          <table class=\"table table-p-1\">\n            <tbody>\n              {% for tax in doc.taxes %}\n              {%- if \"shipping\" in tax.get(\"description\", \"\").lower() -%}\n              {% set _ = extra_data.update({\"shipping_amt\":tax.get(\"tax_amount\", 0) + extra_data.get(\"shipping_amt\",\n              0)}) %}\n              {%- endif -%}\n              {% endfor %}\n\n              {%- set shipping_amt = extra_data.get(\"shipping_amt\", 0) -%}\n              {%- if shipping_amt -%}\n              <tr>\n                <td class=\"border-top-0 border-bottom-0 total-table-space-gift-voucher\">\n                    \n                </td>\n                <td class=\"border-top-0 total-table-label-gift-voucher\">\n                  <p class=\"fs-mini wesde\">Shipping Charges</p>\n                </td>\n                <td class=\"border-top-0 total-table-value-gift-voucher\">\n                  <p class=\"fs-mini dsfkl text-right\">+&nbsp;{{frappe.utils.fmt_money(shipping_amt,\n                    currency=doc.currency, precision=2)}}\n                  </p>\n                </td>\n              </tr>\n              {%- endif -%}\n\n              {%- if doc.get(\"custom_voucher_details\", []) and not doc.get(\"custom_voucher_calculation_for_gift\", [])\n              -%}\n              <tr>\n                <td class=\"border-top-0 border-bottom-0 total-table-space-gift-voucher\">\n                </td>\n                <td class=\"border-top-0 total-table-label-gift-voucher\">\n                  <p class=\"fs-mini wesde\">\n                    {%- set is_gift_voucher = False -%}\n                    {%- for custom_voucher in doc.get(\"custom_voucher_details\", []) -%}\n                    {%- if \"Gift Voucher\".lower() in custom_voucher.get(\"voucher_type\").lower() -%}\n                    {%- set is_gift_voucher = True -%}\n                    {%- endif -%}\n                    {%- endfor -%}\n                    {%- if is_gift_voucher -%}\n                    {{'Voucher Discount'}}\n                    {%- else -%}\n                    {{'Voucher Amount'}}\n                    {%- endif -%}\n                  </p>\n                </td>\n                <td class=\"border-top-0 total-table-value-gift-voucher\">\n                  {%- for voucher in doc.custom_voucher_details -%}\n                  {%- if \"exclusive\" in voucher.get(\"voucher_type\", \"\").lower() -%}\n                  {%- set _ = discount_data.update({'is_excl':true}) -%}\n                  {%- else -%}\n                  {%- set _ = discount_data.update({'is_excl':false}) -%}\n                  {%- endif -%}\n                  {%- set _ = discount_data.update({'amt':discount_data.get(\"amt\", 0) + voucher.get(\"offer\", 0)|int})\n                  -%}\n                  {%- endfor -%}\n                  <p class=\"fs-mini dsfkl text-right\">\n                    -&nbsp;{{frappe.utils.fmt_money(discount_data.get(\"amt\", 0), currency=doc.currency, precision=2)}}\n                  </p>\n                </td>\n              </tr>\n              {%- endif -%}\n\n              {%- set custom_credit_amount = doc.get(\"custom_credit_amount\", 0) -%}\n              {%- if custom_credit_amount > 0 -%}\n              <tr>\n                <td class=\"border-top-0 border-bottom-0 total-table-space-gift-voucher\">\n                </td>\n                <td class=\"border-top-0 total-table-label-gift-voucher\">\n                  <p class=\"fs-mini wesde\">Credit Used</p>\n                </td>\n                <td class=\"border-top-0 total-table-value-gift-voucher\">\n                  <p class=\"fs-mini dsfkl text-right\">\n                    -&nbsp;{{frappe.utils.fmt_money(custom_credit_amount, currency=doc.currency, precision=2)}}\n                  </p>\n                </td>\n              </tr>\n              {%- endif -%}\n\n              <tr>\n                <td class=\"border-top-0 border-bottom-0 total-table-space-gift-voucher\">\n                </td>\n                <td class=\"border-top-0 border-bottom-0 total-table-label-gift-voucher\">\n                  <p class=\"fs-mini wesde fw-bold\">Grand Total</p>\n                </td>\n                <td class=\"border-top-0 border-bottom-0 total-table-value-gift-voucher\">\n                  <p class=\"fs-mini dsfkl fw-bold text-right\">\n                    {%- if not discount_data.get(\"is_excl\", false) -%}\n\n                    {%- if doc.get(\"custom_voucher_calculation_for_gift\", []) -%}\n                    {%- set grand_total = total_data.get(\"total_amt\") + extra_data.get(\"shipping_amt\", 0) -%}\n                    {%- else -%}\n                    {%- set grand_total = (doc.get(\"grand_total\", 0) - discount_data.get(\"amt\", 0)) -%}\n                    {%- endif -%}\n\n                    {%- if grand_total < 0 -%} {%- set grand_total=extra_data.get(\"shipping_amt\", 0) -%} {%- endif -%}\n                      {%- else -%} {%- if doc.get(\"custom_voucher_calculation_for_gift\", []) -%} {%- set\n                      grand_total=total_data.get(\"total_amt\") + extra_data.get(\"shipping_amt\", 0) -%} {%- else -%} {%-\n                      set grand_total=doc.get(\"net_total\", 0) - discount_data.get(\"amt\", 0) -%} {%- endif -%} {%- if\n                      grand_total < 0 -%} {%- set grand_total=doc.get(\"total_taxes_and_charges\", 0) -%} {%- else -%} {%-\n                      set grand_total=(doc.get(\"net_total\", 0) - discount_data.get(\"amt\", 0)) +\n                      doc.get(\"total_taxes_and_charges\", 0) -%} {%- endif -%} {%- endif -%} {%- if custom_credit_amount>\n                      0 -%}\n                      {% set grand_total = grand_total - custom_credit_amount %}\n\n                      {%- endif -%}\n                      <!--{{frappe.utils.fmt_money(grand_total, currency=doc.currency, precision=2)}}-->\n                      {{frappe.utils.fmt_money(doc.rounded_total or doc.grand_total, currency=doc.currency, precision=2)}}\n                      <!-- {{doc.get_formatted(\"grand_total\")}} -->\n                  </p>\n                </td>\n              </tr>\n                <!--<tr>-->\n                <!--  <td colspan=\"3\" class=\"border-top-0 border-bottom-0\">-->\n                <!--    <p class=\"fs-small fw-bold\">-->\n                <!--      Total In Words:-->\n                <!--      <span class=\"text-muted fw-normal\">-->\n                <!--        {{frappe.utils.money_in_words(grand_total)}}-->\n                <!--      </span>-->\n                <!--    </p>-->\n                <!--  </td>-->\n                <!--</tr>-->\n            </tbody>\n          </table>\n          <tr>\n  <td colspan=\"10\" style=\"border-top:none;\">\n    <p style=\"font-size:13px; font-weight:600; margin-top:5px;\">\n      &nbsp;Total In Words:\n      <span style=\"font-weight:400;\">\n        {{ frappe.utils.money_in_words(doc.rounded_total or doc.grand_total) }}\n      </span>\n    </p>\n  </td>\n</tr>\n          <!-- is gift voucher else -->\n          {%- else -%}\n          <table class=\"table table-p-1\">\n            <tbody>\n              <tr>\n                <td class=\"border-top-0 border-bottom-0 total-table-space\" style=\"height: 7px !important;\n    overflow-y: visible;\">\n                    Remarks : <span class=\"fs-small fw-bold\" style=\"display: block;\n    height: 0px !important;\n    overflow-y: visible;\">{{doc.get_formatted(\"remarks\")}}</span>\n                </td>\n                <td class=\"border-top-0 total-table-label\">\n                  <p class=\"fs-small wesde fw-bold\">Taxable Amount</p>\n                </td>\n                <td class=\"border-top-0 total-table-value\">\n                    <p class=\"fs-small dsfkl text-right fw-bold\">\n                    <!-- {{doc.get_formatted(\"net_total\")}} -->\n                    {{frappe.utils.fmt_money(total_data.get(\"taxable_amt\"), currency=doc.currency, precision=2)}}\n                  </p>\n                </td>\n              </tr>\n\n              <tr>\n                <td class=\"border-top-0 border-bottom-0 total-table-space\">\n                </td>\n                <td class=\"border-top-0 total-table-label\">\n                  <p class=\"fs-small wesde fw-bold\">Total Tax</p>\n                </td>\n                <td class=\"border-top-0 total-table-value\">\n                  <p class=\"fs-small dsfkl text-right fw-bold\">\n                    +&nbsp;{{frappe.utils.fmt_money(total_data.get(\"total_tax\", 0), currency=doc.currency,\n                    precision=2)}}\n                  </p>\n                </td>\n              </tr>\n\n              {% for tax in doc.taxes %}\n              {%- if \"shipping\" in tax.get(\"description\", \"\").lower() -%}\n              {% set _ = extra_data.update({\"shipping_amt\":tax.get(\"tax_amount\", 0) + extra_data.get(\"shipping_amt\",\n              0)}) %}\n              <tr>\n                <td class=\"border-top-0 border-bottom-0 total-table-space\">\n                </td>\n                <td class=\"border-top-0 total-table-label\">\n                  <p class=\"fs-mini wesde\">{{tax.get_formatted(\"description\")}}</p>\n                </td>\n                <td class=\"border-top-0 total-table-value\">\n                  <p class=\"fs-mini dsfkl text-right\">+&nbsp;{{tax.get_formatted('tax_amount')}}</p>\n                </td>\n              </tr>\n              {%- endif -%}\n              {% endfor %}\n\n              {%- if doc.get(\"custom_voucher_details\", []) and not doc.get(\"custom_voucher_calculation_for_gift\", [])\n              -%}\n              <tr>\n                <td class=\"border-top-0 border-bottom-0 total-table-space\">\n                </td>\n                <td class=\"border-top-0 total-table-label\">\n                  <p class=\"fs-mini wesde\">\n                    {%- set is_gift_voucher = False -%}\n                    {%- for custom_voucher in doc.get(\"custom_voucher_details\", []) -%}\n                    {%- if \"Gift Voucher\".lower() in custom_voucher.get(\"voucher_type\").lower() -%}\n                    {%- set is_gift_voucher = True -%}\n                    {%- endif -%}\n                    {%- endfor -%}\n                    {%- if is_gift_voucher -%}\n                    {{'Voucher Discount'}}\n                    {%- else -%}\n                    {{'Voucher Amount'}}\n                    {%- endif -%}\n                  </p>\n                </td>\n                <td class=\"border-top-0 total-table-value\">\n                  {%- for voucher in doc.custom_voucher_details -%}\n                  {%- if \"exclusive\" in voucher.get(\"voucher_type\", \"\").lower() -%}\n                  {%- set _ = discount_data.update({'is_excl':true}) -%}\n                  {%- else -%}\n                  {%- set _ = discount_data.update({'is_excl':false}) -%}\n                  {%- endif -%}\n                  {%- set _ = discount_data.update({'amt':discount_data.get(\"amt\", 0) + voucher.get(\"offer\", 0)|int})\n                  -%}\n                  {%- endfor -%}\n                  <p class=\"fs-mini dsfkl text-right\">\n                    -&nbsp;{{frappe.utils.fmt_money(discount_data.get(\"amt\", 0), currency=doc.currency, precision=2)}}\n                  </p>\n                </td>\n              </tr>\n              {%- endif -%}\n\n              <tr>\n                <td class=\"border-top-0 border-bottom-0 total-table-space\">\n                </td>\n                <td class=\"border-top-0 total-table-label\">\n                  <p class=\"fs-small wesde fw-bold\">Net Total</p>\n                </td>\n                <td class=\"border-top-0 total-table-value\">\n                    <p class=\"fs-small dsfkl text-right fw-bold\">\n                    <!-- {{doc.get_formatted(\"grand_total\")}} -->\n                    {{frappe.utils.fmt_money(total_data.get(\"total_amt\"), currency=doc.currency, precision=2)}}\n                  </p>\n                </td>\n              </tr>\n              \n\n              {% for tax in doc.taxes %}\n                  {% if \"freight\" in tax.description|lower %}\n                      {% set ns.freight_amount = tax.tax_amount %}\n                  {% endif %}\n              {% endfor %}\n              \n              {% if ns.freight_amount > 0 %}\n              <tr>\n                  <td class=\"border-top-0 border-bottom-0 total-table-space\"></td>\n              \n                  <td class=\"border-top-0 total-table-label\">\n                    <p class=\"fs-small wesde fw-bold\">Freight Charges</p>\n                  </td>\n              \n                  <td class=\"border-top-0 total-table-value\">\n                      <p class=\"fs-small dsfkl text-right fw-bold\">\n                        +&nbsp;{{ frappe.utils.fmt_money(\n                              ns.freight_amount,\n                              currency=doc.currency,\n                              precision=2\n                          ) }}\n                      </p>\n                  </td>\n              </tr>\n              {% endif %}\n              \n\n\n\n              {%- set custom_credit_amount = doc.get(\"custom_credit_amount\", 0) -%}\n              \n\n\n              <tr>\n                <td class=\"border-top-0 border-bottom-0 total-table-space\">\n                </td>\n                <td class=\"border-top-0 border-bottom-0 total-table-label\">\n                  <p class=\"fs-mini wesde fw-bold\">Grand Total</p>\n                </td>\n                <td class=\"border-top-0 border-bottom-0 total-table-value\">\n                    <p class=\"fs-small dsfkl text-right fw-bold\">\n                    {%- if not discount_data.get(\"is_excl\", false) -%}\n\n                    {%- if doc.get(\"custom_voucher_calculation_for_gift\", []) -%}\n                    {%- set grand_total = total_data.get(\"total_amt\") + extra_data.get(\"shipping_amt\", 0) -%}\n                    {%- else -%}\n                    {%- set grand_total = (doc.get(\"grand_total\", 0) - discount_data.get(\"amt\", 0)) -%}\n                    {%- endif -%}\n\n                    {%- if grand_total < 0 -%}\n                    {%- set grand_total=extra_data.get(\"shipping_amt\", 0) -%}\n                    {%- endif -%}\n                    {%- else -%}\n                    {%- if doc.get(\"custom_voucher_calculation_for_gift\", []) -%}\n                    {%- set grand_total=total_data.get(\"total_amt\") + extra_data.get(\"shipping_amt\", 0) -%}\n                    {%- else -%}\n                    {%- set grand_total=doc.get(\"net_total\", 0) - discount_data.get(\"amt\", 0) -%}\n                    {%- endif -%}\n                    {%- if grand_total < 0 -%}\n                    {%- set grand_total=doc.get(\"total_taxes_and_charges\", 0) -%}\n                    {%- else -%}\n                    {%- set grand_total=(doc.get(\"net_total\", 0) - discount_data.get(\"amt\", 0)) +\n                      doc.get(\"total_taxes_and_charges\", 0) -%}\n                    {%- endif -%}\n                    {%- endif -%}\n                    \n                    {%- set grand_total = grand_total -%}\n                    \n\n                    {%- if doc.custom_voucher_details -%}\n                    {%- for cvd in doc.custom_voucher_details -%}\n                      {%- if cvd.shipping_incl -%}\n                      {%- set _ = extra_data.update({\"shipping_incl_amt\":extra_data.get(\"shipping_amt\")}) -%}\n                      {%- endif -%}\n                    {%- endfor -%}\n                    {%- endif -%}\n                    {%- set grand_total = grand_total - extra_data.get(\"shipping_incl_amt\") -%}\n\n                    <!--{{frappe.utils.fmt_money(grand_total, currency=doc.currency, precision=2)}}-->\n                    {{frappe.utils.fmt_money(doc.rounded_total or doc.grand_total, currency=doc.currency, precision=2)}}\n                      <!-- {{doc.get_formatted(\"grand_total\")}} -->\n                  </p>\n                </td>\n              </tr>\n              <!--<tr>-->\n              <!--  <td class=\"border-top-0 border-bottom-0\"></td>-->\n              <!--  <td class=\"border-bottom-0\" colspan=\"2\">-->\n              <!--    <p class=\"\">-->\n              <!--      <span class=\"fs-mini fw-bold\">-->\n              <!--        Total In Words:-->\n              <!--      </span>-->\n              <!--      <span class=\"text-muted fs-mini\">-->\n              <!--        {{frappe.utils.money_in_words(grand_total)}}-->\n                      <!-- {{doc.get_formatted(\"in_words\")}} -->\n              <!--      </span>-->\n              <!--    </p>-->\n              <!--  </td>-->\n              <!--</tr>-->\n            </tbody>\n          </table>\n          <tr>\n  <td colspan=\"10\" style=\"border-top:none;\">\n    <p style=\"font-size:13px; font-weight:600; margin-top:5px;\">\n      &nbsp;Total In Words:\n      <span style=\"font-weight:400;\">\n        {{ frappe.utils.money_in_words(doc.rounded_total or doc.grand_total) }}\n      </span>\n    </p>\n  </td>\n</tr>\n          {%- endif -%}\n          <!-- is gift voucher end -->\n        </td>\n      </tr>\n      <table border=\"1\" cellspacing=\"0\" cellpadding=\"8\" width=\"100%\" style=\"border-collapse: collapse; font-family: Arial, sans-serif;\">\n        <tr>\n            <th colspan=\"4\" style=\"text-align:left;\">&nbsp;Cost Value</th>\n        </tr>\n        <tr>\n            <td colspan=\"2\"><strong>&nbsp;Basic Amount</strong></td>\n            <td colspan=\"2\"></td>\n        </tr>\n        <tr>\n            <td colspan=\"2\"><strong>&nbsp;Landing Cost</strong></td>\n            <td colspan=\"2\" style=\"text-align:right;\">2,500.00&nbsp;</td>\n        </tr>\n    \n        <tr>\n            <th colspan=\"4\" style=\"text-align:left;\">&nbsp;Margin Summary</th>\n        </tr>\n        <tr>\n            <td><strong>&nbsp;RSP Value</strong></td>\n            <td style=\"text-align:right;\">5,196.00&nbsp;</td>\n            <td style=\"padding-left:3px;\"><strong>&nbsp;Cost Value</strong></td>\n            <td style=\"text-align:right;\">2,500.00&nbsp;</td>\n        </tr>\n        <tr>\n            <td><strong>&nbsp;Markup</strong></td>\n            <td style=\"text-align:right;\">107.84 %&nbsp;</td>\n            <td style=\"padding-left:3px;\"><strong>&nbsp;Markup (Net of Tax)</strong></td>\n            <td style=\"text-align:right;\">107.84 %&nbsp;</td>\n        </tr>\n        <tr>\n            <td><strong>&nbsp;Markdown</strong></td>\n            <td style=\"text-align:right;\">51.89 %</td>\n            <td style=\"padding-left:3px;\"><strong>&nbsp;Markdown (Net of Tax)</strong></td>\n            <td style=\"text-align:right;\">49.48 %&nbsp;</td>\n        </tr>\n      </table>\n\n    <!-- Tax Table -->\n<!-- Tax Table -->\n<tr>\n  <td colspan=\"10\">\n    <table class=\"table border-all-none border-bottom-child-none table-p-2\">\n      <thead>\n        <tr>\n          <td style=\"width: 24.3% !important;align-content:center !important;\" rowspan=\"2\">\n            <p class=\"fs-small sdkke text-muted fw-bold text-center asdf\">HSN/SAC</p>\n          </td>\n          <td style=\"width: 7% !important;align-content:center !important;\" rowspan=\"2\">\n            <p class=\"fs-small sdkke text-muted fw-bold text-center asdf\">Taxable Amt</p>\n          </td>\n      \n          {%- if is_igst -%}\n            <td style=\"width: 20% !important;\" colspan=\"2\">\n              <p class=\"fs-xsmall text-muted fw-bold text-center asdf\">Tax IGST</p>\n            </td>\n            <td style=\"width: 6% !important;align-content:center !important;\" rowspan=\"2\">\n              <p class=\"fs-small sdkke text-muted fw-bold text-center asdf\">Total Tax</p>\n            </td>\n            <td style=\"width: 7.8% !important;align-content:center !important;\" rowspan=\"2\">\n              <p class=\"fs-small sdkke text-muted fw-bold text-center asdf\">Total Amount</p>\n            </td>\n        </tr>\n        <tr>\n            <td style=\"width: 7% !important;\">\n              <p class=\"fs-xsmall text-muted fw-bold text-center asdf\">Rate %</p>\n            </td>\n            <td style=\"width: 7% !important;\">\n              <p class=\"fs-xsmall text-muted fw-bold text-center asdf\">Amt {{ currency_symbol }}</p>\n            </td>\n          </tr>\n      \n          {%- else -%}\n            <td style=\"width: 10% !important;\" colspan=\"2\">\n              <p class=\"fs-xsmall text-muted fw-bold text-center asdf\">CGST</p>\n            </td>\n            <td style=\"width: 10% !important;\" colspan=\"2\">\n              <p class=\"fs-xsmall text-muted fw-bold text-center asdf\">SGST</p>\n            </td>\n            <td style=\"width: 6% !important;align-content:center !important;\" rowspan=\"2\">\n              <p class=\"fs-small sdkke text-muted fw-bold text-center asdf\">Total Tax</p>\n            </td>\n            <td style=\"width: 7.8% !important;align-content:center !important;\" rowspan=\"2\">\n              <p class=\"fs-small sdkke text-muted fw-bold text-center asdf\">Total Amount</p>\n            </td>\n        </tr>\n        <tr>\n            <td style=\"width: 4% !important;\"><p class=\"fs-mini text-muted fw-bold text-center asdf\">Rate</p></td>\n            <td style=\"width: 4% !important;\"><p class=\"fs-mini text-muted fw-bold text-center asdf\">Amt</p></td>\n            <td style=\"width: 4% !important;\"><p class=\"fs-mini text-muted fw-bold text-center asdf\">Rate</p></td>\n            <td style=\"width: 4% !important;\"><p class=\"fs-mini text-muted fw-bold text-center asdf\">Amt</p></td>\n        </tr>\n        {%- endif -%}\n      </thead>\n      <tbody>\n        {# Totals accumulate karne ke liye namespace #}\n        {% set hsn_totals = namespace(taxable=0, cgst=0, sgst=0, igst=0, total_tax=0, grand_total=0) %}\n\n        {%- for key, value in items_dict.items() -%}\n          {%- for key2, value2 in value.items() -%}\n            {% set total_amount = value2.get('taxable_amount') + value2.get('total_tax') %}\n            {% set tax_cgst_rate = value2.get('cgst_rate') / value2.get('loop') %}\n            {% set tax_sgst_rate = value2.get('sgst_rate') / value2.get('loop') %}\n            {% set tax_igst_rate = value2.get('igst_rate') / value2.get('loop') %}\n            \n            {# Calculation for totals #}\n            {% set hsn_totals.taxable = hsn_totals.taxable + value2.get('taxable_amount') %}\n            {% set hsn_totals.cgst = hsn_totals.cgst + value2.get('cgst_amt') %}\n            {% set hsn_totals.sgst = hsn_totals.sgst + value2.get('sgst_amt') %}\n            {% set hsn_totals.igst = hsn_totals.igst + value2.get('igst_amt') %}\n            {% set hsn_totals.total_tax = hsn_totals.total_tax + value2.get('total_tax') %}\n            {% set hsn_totals.grand_total = hsn_totals.grand_total + total_amount %}\n\n            <tr>\n              <td><p class=\"fs-mini eeksee text-center\">{{ key }}</p></td>\n              <td><p class=\"fs-mini eeksee text-center\">{{ frappe.utils.fmt_money(value2.get('taxable_amount'), currency=doc.currency, precision=2) }}</p></td>\n\n              {%- if is_igst -%}\n                <td><p class=\"fs-mini eeksee text-center\">{{ tax_igst_rate }}%</p></td>\n                <td><p class=\"fs-mini eeksee text-center\">{{ frappe.utils.fmt_money(value2.get('igst_amt'), currency=doc.currency, precision=2) }}</p></td>\n              {%- else -%}\n                <td><p class=\"fs-mini eeksee text-center\">{{ tax_cgst_rate }}%</p></td>\n                <td><p class=\"fs-mini eeksee text-center\">{{ frappe.utils.fmt_money(value2.get('cgst_amt'), currency=doc.currency, precision=2) }}</p></td>\n                <td><p class=\"fs-mini eeksee text-center\">{{ tax_sgst_rate }}%</p></td>\n                <td><p class=\"fs-mini eeksee text-center\">{{ frappe.utils.fmt_money(value2.get('sgst_amt'), currency=doc.currency, precision=2) }}</p></td>\n              {%- endif -%}\n\n              <td><p class=\"fs-mini eeksee text-center\">{{ frappe.utils.fmt_money(value2.get('total_tax'), currency=doc.currency, precision=2) }}</p></td>\n              <td><p class=\"fs-mini eeksee text-center\">{{ frappe.utils.fmt_money(total_amount, currency=doc.currency, precision=2) }}</p></td>\n            </tr>\n          {%- endfor -%}\n        {%- endfor -%}\n\n        <!-- HSN Table Total Row -->\n        <tr style=\"background-color: #f9f9f9; font-weight: bold;\">\n          <td class=\"text-center\"><p class=\"fs-mini fw-bold\">Total</p></td>\n          <td class=\"text-center\"><p class=\"fs-mini fw-bold\">{{ frappe.utils.fmt_money(hsn_totals.taxable, currency=doc.currency, precision=2) }}</p></td>\n          {% if is_igst %}\n            <td></td>\n            <td class=\"text-center\"><p class=\"fs-mini fw-bold\">{{ frappe.utils.fmt_money(hsn_totals.igst, currency=doc.currency, precision=2) }}</p></td>\n          {% else %}\n            <td></td>\n            <td class=\"text-center\"><p class=\"fs-mini fw-bold\">{{ frappe.utils.fmt_money(hsn_totals.cgst, currency=doc.currency, precision=2) }}</p></td>\n            <td></td>\n            <td class=\"text-center\"><p class=\"fs-mini fw-bold\">{{ frappe.utils.fmt_money(hsn_totals.sgst, currency=doc.currency, precision=2) }}</p></td>\n          {% endif %}\n          <td class=\"text-center\"><p class=\"fs-mini fw-bold\">{{ frappe.utils.fmt_money(hsn_totals.total_tax, currency=doc.currency, precision=2) }}</p></td>\n          <td class=\"text-center\"><p class=\"fs-mini fw-bold\">{{ frappe.utils.fmt_money(hsn_totals.grand_total, currency=doc.currency, precision=2) }}</p></td>\n        </tr>\n      </tbody>\n    </table>\n  </td>\n</tr>\n      \n    <tbody>\n      <!-- Totals Area End -->\n\n  {%- if doc.custom_voucher_details and not doc.get(\"custom_voucher_calculation_for_gift\", []) -%}\n<!-- Voucher Table -->\n<tr>\n  <td colspan=\"10\">\n    <p class=\"fs-small text-center fw-bold p-1\">{{doc.get(\"offer_type\", \"Voucher\")}} Details</p>\n  </td>\n</tr>\n<tr>\n  <td colspan=\"10\">\n    <table class=\"table border-all-none border-bottom-child-none table-p-2\">\n      <thead>\n        <tr>\n          <td style=\"width: 20% !important;\"><p class=\"fs-small text-muted fw-bold text-center\">Name</p></td>\n          <td style=\"width: 14% !important;\"><p class=\"fs-small text-muted fw-bold text-center\">No.</p></td>\n          <td style=\"width: 16% !important;\"><p class=\"fs-small text-muted fw-bold text-center\">Type</p></td>\n          <td style=\"width: 10% !important;\"><p class=\"fs-small text-muted fw-bold text-center\">Offer</p></td>\n          <td style=\"width: 10% !important;\"><p class=\"fs-small text-muted fw-bold text-center\">GST Rate</p></td>\n          <td style=\"width: 10% !important;\"><p class=\"fs-small text-muted fw-bold text-center\">GST Amt</p></td>\n          <td style=\"width: 10% !important;\"><p class=\"fs-small text-muted fw-bold text-center\">Excl Amt</p></td>\n          <td style=\"width: 10% !important;\"><p class=\"fs-small text-muted fw-bold text-center\">Payable</p></td>\n        </tr>\n      </thead>\n      <tbody>\n        {% set v_totals = namespace(offer=0, gst=0, excl=0, payable=0) %}\n        {%- for voucher in doc.custom_voucher_details -%}\n          {% set v_totals.offer = v_totals.offer + voucher.offer|float %}\n          {% set v_totals.gst = v_totals.gst + voucher.voucher_gst|float %}\n          {% set v_totals.excl = v_totals.excl + voucher.voucher_excl|float %}\n          {% set v_totals.payable = v_totals.payable + voucher.voucher_gst_payable|float %}\n        <tr>\n          <td><p class=\"fs-mini text-center\">{{voucher.get_formatted(\"voucher_name\", \"\").title()}}</p></td>\n          <td><p class=\"fs-mini text-center\">{{voucher.get_formatted(\"voucher_no\")}}</p></td>\n          <td><p class=\"fs-mini text-center\">{{voucher.get_formatted(\"voucher_type\")}}</p></td>\n          <td class=\"text-center\"><p class=\"fs-mini\">{{frappe.utils.fmt_money(voucher.offer, currency=doc.currency)}}</p></td>\n          <td class=\"text-center\"><p class=\"fs-mini\">{{voucher.gst_rate or 0}}%</p></td>\n          <td class=\"text-center\"><p class=\"fs-mini\">{{frappe.utils.fmt_money(voucher.voucher_gst, currency=doc.currency)}}</p></td>\n          <td class=\"text-center\"><p class=\"fs-mini\">{{frappe.utils.fmt_money(voucher.voucher_excl, currency=doc.currency)}}</p></td>\n          <td class=\"text-center\"><p class=\"fs-mini\">{{frappe.utils.fmt_money(voucher.voucher_gst_payable, currency=doc.currency)}}</p></td>\n        </tr>\n        {%- endfor -%}\n        \n        <!-- Voucher Total Row -->\n        <tr style=\"background-color: #f9f9f9; font-weight: bold;\">\n          <td colspan=\"3\" class=\"text-right\"><p class=\"fs-mini fw-bold px-2\">Total</p></td>\n          <td class=\"text-center\"><p class=\"fs-mini fw-bold\">{{ frappe.utils.fmt_money(v_totals.offer, currency=doc.currency) }}</p></td>\n          <td></td>\n          <td class=\"text-center\"><p class=\"fs-mini fw-bold\">{{ frappe.utils.fmt_money(v_totals.gst, currency=doc.currency) }}</p></td>\n          <td class=\"text-center\"><p class=\"fs-mini fw-bold\">{{ frappe.utils.fmt_money(v_totals.excl, currency=doc.currency) }}</p></td>\n          <td class=\"text-center\"><p class=\"fs-mini fw-bold\">{{ frappe.utils.fmt_money(v_totals.payable, currency=doc.currency) }}</p></td>\n        </tr>\n      </tbody>\n    </table>\n  </td>\n</tr>\n{%- endif -%}\n\n      <!-- Spacing Start -->\n      <!-- <tr>\n        <td colspan=\"10\" class=\"border-top-bottom-none\">\n          <p class=\"p-2\"></p>\n        </td>\n      </tr> -->\n      <!-- Spacing End -->\n\n      <!-- Approve Details -->\n      <!-- Hide approve details no longer needed -->\n\n      {%- if False -%}\n      <tr>\n        <td colspan=\"10\" class=\"border border-default\">\n          <table class=\"table table-p-0 border-top-0 border-default\">\n            {%- set owner = frappe.get_doc(\"User\", doc.owner) -%}\n            <tbody>\n              <tr>\n                <td class=\"border-top-0\" style=\"width: 10% !important; align-content: center !important;\">\n                  <p class=\"fs-mini fw-bold px-1 py-3 sdfjk\">Created By</p>\n                </td>\n                <td class=\"border-top-0\" style=\"width: 20% !important; align-content: center !important;\">\n                  <p class=\"fs-mini px-1 py-3 sdfjk\">\n                    {%- if owner.first_name and owner.last_name -%}\n                    {%- if owner.first_name.strip().lower() == owner.last_name.strip().lower() -%}\n                    {{owner.first_name}}\n                    {%- endif -%}\n                    {%- else -%}\n                    {{owner.full_name}}\n                    {%- endif -%}\n                  </p>\n                </td>\n                <td class=\"border-top-0\" style=\"width: 10% !important; align-content: center !important;\">\n                  <p class=\"fs-mini fw-bold px-1 py-3 sdfjk\">Checked By</p>\n                </td>\n                <td class=\"border-top-0\" style=\"width: 25% !important; align-content: center !important;\">\n                  <p class=\"fs-mini px-1 py-3 sdfjk\"></p>\n                </td>\n                <td class=\"border-top-0\" style=\"width: 10% !important; align-content: center !important;\">\n                  <p class=\"fs-mini fw-bold px-1 py-3 sdfjk\">Approved By</p>\n                </td>\n                <td class=\"border-top-0\" style=\"width: 25% !important; align-content: center !important;\">\n                  <p class=\"fs-mini px-1 py-3 sdfjk\"></p>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </td>\n      </tr>\n      \n      {%- endif -%}\n      <tr>\n        <td colspan=\"10\" style=\"border: 1px solid #b8b8b8; border-top: 0px solid #b8b8b8 !important; padding: 0px !important;\">\n          <table class=\"table table-p-0\" style=\"width: 100%; border-collapse: collapse; border: none !important; table-layout: fixed;\">\n            <tbody>\n              <tr>\n                <!-- Column 1: Prepared By -->\n                  <td style=\"width: 25%; vertical-align: bottom !important; padding: 10px 5px !important; height: 80px !important; text-align: center; border-right: 1px solid #b8b8b8;\">\n                    <!-- Name/Signature Area (Line ke upar) -->\n                    <div style=\"min-height: 20px; display: flex; align-items: flex-end; justify-content: center;\">\n                        <p style=\"margin: 0; font-size: 10px; line-height: 1.1;\">{{ frappe.db.get_value(\"User\", doc.owner, \"full_name\") or doc.owner }}</p>\n                    </div>\n                    <!-- The Underline -->\n                    <div style=\"border-top: 1px solid #b8b8b8; width: 60%; margin: 5px auto 5px auto !important;\"></div>\n                    <!-- Label -->\n                    <p style=\"margin: 0; font-size: 11px; font-weight: bold;\">Prepared By</p>\n                  </td>\n\n      \n                <!-- Column 2: Modified By -->\n                <td style=\"width: 25%; vertical-align: bottom !important; padding: 10px 5px !important; height: 80px !important; text-align: center; border-right: 1px solid #b8b8b8;\">\n                  <!-- Name/Signature Area (Line ke upar) -->\n                  <div style=\"min-height: 20px; display: flex; align-items: flex-end; justify-content: center;\">\n                      <p style=\"margin: 0; font-size: 10px; line-height: 1.1;\">{{ frappe.db.get_value(\"User\", doc.modified_by, \"full_name\") or doc.modified_by }}</p>\n                  </div>\n                  <!-- The Underline -->\n                  <div style=\"border-top: 1px solid #b8b8b8; width: 60%; margin: 5px auto 5px auto !important;\"></div>\n                  <!-- Label -->\n                  <p style=\"margin: 0; font-size: 11px; font-weight: bold;\">Modified By</p>\n                </td>\n      \n                <td style=\"width: 25%; vertical-align: bottom !important; padding: 10px 5px !important; height: 80px !important; text-align: center; border-right: 1px solid #b8b8b8;\">\n                \n                    <!-- Name/Signature Area (Line ke upar) -->\n                    <div style=\"min-height: 20px; display: flex; align-items: flex-end; justify-content: center;\">\n                        <p style=\"margin: 0; font-size: 10px; line-height: 1.1;\">\n                            {{ doc.authorized_by or \"\" }}\n                        </p>\n                    </div>\n                \n                    <!-- The Underline -->\n                    <div style=\"border-top: 1px solid #b8b8b8; width: 60%; margin: 5px auto 5px auto !important;\"></div>\n                \n                    <!-- Label -->\n                    <p style=\"margin: 0; font-size: 11px; font-weight: bold;\">Authorized By</p>\n                \n                </td>\n\n      \n                <td style=\"width: 25%; vertical-align: bottom !important; padding: 10px 5px !important; height: 80px !important; text-align: center;\">\n\n                    <!-- Name/Signature Area (Line ke upar) -->\n                    <div style=\"min-height: 20px; display: flex; align-items: flex-end; justify-content: center;\">\n                        <p style=\"margin: 0; font-size: 10px; line-height: 1.1;\">\n                            {{ doc.checked_and_passed_by or \"\" }}\n                        </p>\n                    </div>\n                \n                    <!-- The Underline -->\n                    <div style=\"border-top: 1px solid #b8b8b8; width: 60%; margin: 5px auto 5px auto !important;\"></div>\n                \n                    <!-- Label -->\n                    <p style=\"margin: 0; font-size: 11px; font-weight: bold;\">Checked And Passed By</p>\n                \n                </td>\n\n              </tr>\n            </tbody>\n          </table>\n           <!-- Declaration Section: Border Bottom Fix -->\n          <table class=\"table border-all-none border-bottom-child-none table-p-2\" >\n              <body>\n                  <tr>\n                      <td>\n                  <div >\n                    <strong>Declaration:</strong>\n                    <span class=\"text-muted\">We declare that this Purchase Receipt shows the actual price of the goods described and that all particulars are true and correct.</span>\n                  </div>\n                  </td>\n                  </tr>\n              </body>\n          </table>\n          \n        </td>\n      </tr>\n      <style>\n    /* Ensure the page counter increments properly */\n    .page-number:after {\n        counter-increment: page;\n        content: counter(page);\n    }\n</style>\n  <table class=\"table table-p-0\">\n      <tbody>\n          <tr>\n              <td style=\"border: 0px !important;\">\n              <div style=\"padding: 5px !important; border-top: 1px solid #b8b8b8; display: block; overflow: hidden; font-size: 10px;\">\n        <div style=\"float: left; width: 50%;\">\n            Print Date : {{ frappe.utils.format_date(frappe.utils.today()) }}\n        </div>\n        <div style=\"float: right; width: 50%; text-align: right;\">\n            <!-- This span will now show 1, 2, 3 automatically -->\n            Page : <span class=\"page-number\"></span>\n        </div>\n        </td>\n        </tr>\n    </div>\n      </tbody>\n  \n  </table>\n  </table>\n</section>\n{%- endwith -%}",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 15.0,
 "margin_left": 15.0,
 "margin_right": 15.0,
 "margin_top": 15.0,
 "modified": "2026-02-20 20:26:04.424219",
 "modified_by": "Administrator",
 "module": "Franchise Erp",
 "name": "Purchase Receipt",
 "owner": "Administrator",
 "page_number": "Hide",
 "pdf_generator": "wkhtmltopdf",
 "print_format_builder": 0,
 "print_format_builder_beta": 0,
 "print_format_for": "DocType",
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}